"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.makeMongoDbDatabaseConnection = void 0;
const mongodb_1 = require("mongodb");
/**
  Constructs connection to MongoDB database.
 */
function makeMongoDbDatabaseConnection({ connectionUri, databaseName, }) {
    const mongoClient = new mongodb_1.MongoClient(connectionUri, {
        serverSelectionTimeoutMS: 30000,
    });
    const db = mongoClient.db(databaseName);
    return {
        mongoClient,
        db,
        async drop() {
            await db.dropDatabase();
        },
        async close(force) {
            mongoClient.close(force);
        },
    };
}
exports.makeMongoDbDatabaseConnection = makeMongoDbDatabaseConnection;
//# sourceMappingURL=MongoDbDatabaseConnection.js.map