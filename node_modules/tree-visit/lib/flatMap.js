"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.flatMap = void 0;
const reduce_1 = require("./reduce");
/**
 * Map each node into an array of values, which are then flattened into a single array.
 *
 * This is analogous to `Array.prototype.flatMap` for arrays.
 */
function flatMap(node, options) {
    return (0, reduce_1.reduce)(node, Object.assign(Object.assign({}, options), { initialResult: [], nextResult: (result, child, indexPath) => {
            result.push(...options.transform(child, indexPath));
            return result;
        } }));
}
exports.flatMap = flatMap;
