import e,{useState as n,useCallback as t}from"react";import{css as r,cx as o}from"@leafygreen-ui/emotion";import a from"prop-types";import i,{useDarkMode as l,usePopoverContext as c,PortalContextProvider as u,PopoverProvider as f}from"@leafygreen-ui/leafygreen-provider";import{Transition as s}from"react-transition-group";import p from"focus-trap-react";import{useIdAllocator as d,useEscapeKey as m}from"@leafygreen-ui/hooks";import y from"@leafygreen-ui/icon/dist/X";import g from"@leafygreen-ui/icon-button";import b from"@leafygreen-ui/portal";import{transparentize as h}from"polished";import{Theme as v}from"@leafygreen-ui/lib";import{palette as x}from"@leafygreen-ui/palette";import{breakpoints as k,transitionDuration as O,fontFamilies as w}from"@leafygreen-ui/tokens";function j(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},E.apply(this,arguments)}function N(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function C(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function D(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,i,l=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var I,M=r(I||(I=C(["\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: right;\n  flex-direction: row-reverse;\n  padding: 24px 35px 35px;\n"]))),P=function(n){var t=n.children,r=n.className;return e.createElement("div",{className:o(M,r)},t)};P.displayName="Footer";var L,A,F,z,R,T,B,U,V,X,$,q,G,H,J,K,Q,W,Y,Z,_,ee,ne,te,re={Default:"default",Dark:"dark",Light:"light"},oe={Small:"small",Default:"default",Large:"large"},ae="".concat(k.Desktop+1,"px"),ie=r(L||(L=C(["\n  overflow-y: auto;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  transition: opacity ","ms ease-in-out;\n"])),O.default),le=(j(z={},v.Light,r(A||(A=C(["\n    background-color: ",";\n  "])),h(.4,x.black))),j(z,v.Dark,r(F||(F=C(["\n    background-color: ",";\n  "])),h(.4,x.gray.dark2))),z),ce=r(R||(R=C(["\n  opacity: 1;\n"]))),ue=r(T||(T=C(["\n  position: absolute;\n  min-height: 100%;\n  width: 100%;\n  padding: ","px ","px;\n  overflow-y: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),64,18),fe=r(B||(B=C(["\n  font-family: ",";\n  transition: transform ","ms ease-in-out,\n    opacity ","ms ease-in-out;\n  margin: auto;\n  max-height: calc(100% - ","px);\n  position: relative;\n  pointer-events: all;\n  transform: translate3d(0, -16px, 0);\n  opacity: 0;\n  border-radius: 24px;\n  padding: 40px 36px;\n  box-shadow: 0px 8px 20px -8px ",";\n\n  &:focus {\n    outline: none;\n  }\n"])),w.default,O.default,O.default,64,h(.4,x.black)),se=(j(X={},v.Light,r(U||(U=C(["\n    color: ",";\n    background-color: ",";\n  "])),x.black,x.white)),j(X,v.Dark,r(V||(V=C(["\n    color: ",";\n    background-color: ",";\n  "])),x.gray.light2,x.black)),X),pe=r($||($=C(["\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n"]))),de={small:r(q||(q=C(["\n    width: 400px;\n  "]))),default:r(G||(G=C(["\n    width: 600px;\n  "]))),large:r(H||(H=C(["\n    width: 720px;\n\n    @media only screen and (min-width: ",") {\n      width: 960px;\n    }\n  "])),ae)},me=r(J||(J=C(["\n  position: absolute;\n  cursor: pointer;\n  // x-icon should be 24px from edge. IconButton is 28x28 and Icon is 16x16\n  // so there's already (28 - 16) / 2 = 6px of spacing. 24 - 6 = 18.\n  right: 18px;\n  top: 18px;\n"]))),ye=(j(te={},v.Light,(j(Y={},re.Default,r(K||(K=C(["\n      color: ",";\n    "])),x.gray.dark1)),j(Y,re.Dark,r(Q||(Q=C(["\n      color: ",";\n    "])),x.black)),j(Y,re.Light,r(W||(W=C(["\n      color: ",";\n    "])),x.gray.light2)),Y)),j(te,v.Dark,(j(ne={},re.Default,r(Z||(Z=C(["\n      color: ",";\n    "])),x.gray.base)),j(ne,re.Dark,r(_||(_=C(["\n      color: ",";\n    "])),x.black)),j(ne,re.Light,r(ee||(ee=C(["\n      color: ",";\n    "])),x.gray.light2)),ne)),te),ge=["open","size","setOpen","shouldClose","closeIconColor","darkMode","id","children","className","contentClassName","initialFocus"],be=e.forwardRef((function(r,a){var f=r.open,h=void 0!==f&&f,v=r.size,x=void 0===v?oe.Default:v,k=r.setOpen,O=void 0===k?function(){}:k,w=r.shouldClose,C=void 0===w?function(){return!0}:w,S=r.closeIconColor,I=void 0===S?re.Default:S,M=r.darkMode,P=r.id,L=r.children,A=r.className,F=r.contentClassName,z=r.initialFocus,R=N(r,ge),T=l(M),B=T.theme,U=T.darkMode,V=e.useRef(null),X=null!=a?a:V,$=D(n(null),2),q=$[0],G=$[1],H=c().isPopoverOpen,J=t((function(){O&&C()&&O(!1)}),[O,C]),K=d({prefix:"modal",id:P}),Q=d({prefix:"modal"});m(J,{enabled:h&&!H});var W=z?{initialFocus:"#".concat(K," ").concat(z),fallbackFocus:"#".concat(Q)}:{fallbackFocus:"#".concat(Q)};return e.createElement(s,{in:h,timeout:150,mountOnEnter:!0,unmountOnExit:!0,nodeRef:V},(function(n){return e.createElement(b,null,e.createElement("div",E({},R,{id:K,ref:X,className:o(A,ie,le[B],j({},ce,"entered"===n))}),e.createElement(i,{darkMode:U},e.createElement(p,{active:"entered"===n,focusTrapOptions:W},e.createElement("div",{className:ue,ref:function(e){return G(e)}},e.createElement("div",{"aria-modal":"true",role:"dialog",tabIndex:-1,className:o(fe,se[B],de[x],j({},pe,"entered"===n),F)},e.createElement(u,{popover:{portalContainer:q,scrollContainer:q}},L,e.createElement(g,{id:Q,onClick:J,"aria-label":"Close modal",className:o(me,ye[B][I])},e.createElement(y,null)))))))))}))}));be.displayName="ModalView";var he=e.forwardRef((function(n,t){return e.createElement(f,null,e.createElement(be,E({},n,{ref:t})))}));he.displayName="Modal",he.propTypes={open:a.bool,size:a.oneOf(Object.values(oe)),children:a.node,shouldClose:a.func,className:a.string,setOpen:a.func,darkMode:a.bool,closeIconColor:a.oneOf(Object.values(re))};export{re as CloseIconColor,P as Footer,oe as ModalSize,be as ModalView,he as default};
//# sourceMappingURL=index.js.map
