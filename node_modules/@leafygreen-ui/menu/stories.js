import e,{createContext as n,useContext as t,useRef as r,useState as o,useCallback as a,useMemo as l,useEffect as i}from"react";import c from"@leafygreen-ui/button";import{css as u,cx as s}from"@leafygreen-ui/emotion";import d from"@leafygreen-ui/icon/dist/CaretDown";import g from"@leafygreen-ui/icon/dist/Cloud";import p,{useDarkMode as f}from"@leafygreen-ui/leafygreen-provider";import{Theme as m,isComponentType as b,keyMap as h,createUniqueClassName as v,getNodeTextContent as y,storybookArgTypes as k,storybookExcludedControlParams as E}from"@leafygreen-ui/lib";import x,{Align as w,Justify as O,TestUtils as j}from"@leafygreen-ui/popover";import{fontFamilies as D,transitionDuration as M,fontWeights as C}from"@leafygreen-ui/tokens";import S from"lodash/isUndefined";import N from"prop-types";import{useForceRerender as z,useAvailableSpace as L,useBackdropClick as I,useEventListener as P}from"@leafygreen-ui/hooks";import{palette as A}from"@leafygreen-ui/palette";import{InferredPolymorphic as F,useInferredPolymorphic as T}from"@leafygreen-ui/polymorphic";import{Transition as R}from"react-transition-group";import U from"@leafygreen-ui/icon/dist/ChevronDown";import H from"@leafygreen-ui/icon/dist/ChevronUp";import V from"@leafygreen-ui/icon-button";function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){K(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function K(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},_.apply(this,arguments)}function G(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function J(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function W(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a,l,i=[],c=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=a.call(t)).done)&&(i.push(r.value),i.length!==n);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,n)||Y(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,n){if(e){if("string"==typeof e)return $(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$(e,n):void 0}}function $(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var Q,X,ee,ne,te={Default:"default",Large:"large"},re=n({theme:"light",darkMode:!1}),oe=u(Q||(Q=J(["\n  height: 16px;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    width: 100%;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]))),ae=(K(ne={},m.Light,u(X||(X=J(["\n    &::before {\n      background-color: ",";\n    }\n  "])),A.gray.dark2)),K(ne,m.Dark,u(ee||(ee=J(["\n    &::before {\n      background-color: ",";\n    }\n  "])),A.gray.light1)),ne);function le(n){var r=n.className,o=t(re).theme;return e.createElement("li",{role:"separator",className:s(oe,ae[o],r)})}le.displayName="MenuSeparator";var ie,ce,ue,se,de,ge,pe=["align","justify","adjustOnMutation","shouldClose","spacing","maxHeight","usePortal","open","setOpen","darkMode","children","className","refEl","trigger","portalClassName","portalContainer","scrollContainer","popoverZIndex"],fe=["children"],me=u(ie||(ie=J(["\n  width: 210px;\n  border-radius: 12px;\n  overflow: auto;\n  padding: 14px 0;\n"]))),be=(K(se={},m.Light,u(ce||(ce=J(["\n    background-color: ",";\n  "])),A.black)),K(se,m.Dark,u(ue||(ue=J(["\n    background-color: ",";\n  "])),A.gray.light2)),se),he=u(de||(de=J(["\n  overflow: auto;\n  list-style: none;\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  padding-inline-start: 0px;\n  padding: 0px;\n"]))),ve=e.forwardRef((function(n,t){var c=n.align,d=void 0===c?w.Bottom:c,g=n.justify,p=void 0===g?O.End:g,m=n.adjustOnMutation,v=void 0!==m&&m,y=n.shouldClose,k=void 0===y?function(){return!0}:y,E=n.spacing,j=void 0===E?6:E,D=n.maxHeight,M=void 0===D?344:D,C=n.usePortal,N=void 0===C||C,A=n.open,F=n.setOpen,T=n.darkMode,R=n.children,U=n.className,H=n.refEl,V=n.trigger,Z=n.portalClassName,Y=n.portalContainer,$=n.scrollContainer,Q=n.popoverZIndex,X=G(n,pe),ee=f(T),ne=ee.theme,te=ee.darkMode,oe=r(!1),ae=r(!1),ie=W(o(!1),2)[1],ce=r(null),ue=W(o(!1),2),se=ue[0],de=ue[1],ve=r(null),ye="boolean"==typeof A&&F||de,ke=null!=A?A:se,Ee=a((function(){k()&&ye(!1)}),[ye,k]),xe=z(),we=r(null),Oe=L(H||we,j),je=l((function(){return Oe}),[Oe]),De=S(je)?"unset":"".concat(Math.min(je,M),"px"),Me=e.useMemo((function(){if(null==R||["boolean","number","string"].includes(B(R)))return{updatedChildren:void 0,refs:[]};var n=[],t=[];return{updatedChildren:function r(o){return e.Children.map(o,(function(o){var a,l;if(!e.isValidElement(o)||null!==(a=o.props)&&void 0!==a&&a.disabled)return o;var i=o.props,c=null,u=function(e){null!=e&&(t.push(e),c=e,ke&&!1===oe.current&&(ze(t[0]),oe.current=!0))},s=null!==(l=null==i?void 0:i.title)&&void 0!==l&&l,d=function(e){var n=e.target;Ne.current=n};if(b(o,"SubMenu")&&s){var g,p;if(n.includes(s))throw new Error("SubMenu titles must be unique");n.push(s),!ce.current&&i.active&&!ae.current&&(ce.current=o,ae.current=!0);var f=(null===(g=ce.current)||void 0===g||null===(p=g.props)||void 0===p?void 0:p.title)===s;return e.cloneElement(o,{ref:u,open:f,setOpen:function(e){c&&(Ne.current=c),ce.current=e?o:null,ae.current=!0,xe()},onKeyDown:function(e){e.key===h.ArrowLeft&&f&&(ce.current=null,ae.current=!0,xe()),e.key===h.ArrowRight&&(ce.current=o,ae.current=!0,xe())},onFocus:d,children:r(i.children),onExited:function(){ie((function(e){return!e}))}})}if(b(o,"MenuItem"))return e.cloneElement(o,{ref:u,onFocus:d,onClick:function(e){var n,t;null===(n=o.props)||void 0===n||null===(t=n.onClick)||void 0===t||t.call(n,e),Ee()}});if(b(o,"FocusableMenuItem"))return e.cloneElement(o,{ref:u,onFocus:d});if(b(o,"MenuSeparator"))return e.createElement(le,i);if(null!=i&&i.children){i.children;var m=G(i,fe);return e.cloneElement(o,q({children:r(i.children)},m))}return o}))}(R),refs:t}}),[R,ke,xe,Ee]),Ce=Me.updatedChildren,Se=Me.refs,Ne=r(Se[0]||null),ze=function(e){null!=e&&(Ne.current=e,e.focus())};i((function(){ke&&(oe.current=!1,ae.current=!1)}),[ke]),I(Ee,[ve,we],ke),P("keydown",(function(e){var n,t,r;switch(e.key){case h.ArrowDown:e.preventDefault(),r=Se[(Se.indexOf(Ne.current)+1)%Se.length],ze(r);break;case h.ArrowUp:e.preventDefault(),r=Se[(Se.indexOf(Ne.current)-1+Se.length)%Se.length],ze(r);break;case h.Tab:e.preventDefault(),Ee(),ze(null===(n=H||we)||void 0===n?void 0:n.current);break;case h.Escape:Ee(),ze(null===(t=H||we)||void 0===t?void 0:t.current);break;case h.Space:case h.Enter:ke||ze(Se[0])}}),{enabled:ke});var Le=q({popoverZIndex:Q},N?{spacing:j,usePortal:N,portalClassName:Z,portalContainer:Y,scrollContainer:$}:{spacing:j,usePortal:N}),Ie=l((function(){return{theme:ne,darkMode:te}}),[ne,te]),Pe=e.createElement(re.Provider,{value:Ie},e.createElement(x,_({key:"popover",active:ke,align:d,justify:p,refEl:H,adjustOnMutation:v},Le),e.createElement("div",{className:s(me,be[ne],u(ge||(ge=J(["\n              max-height: ",";\n            "])),De),U),ref:t},e.createElement("ul",_({},X,{className:he,role:"menu",onClick:function(e){return e.stopPropagation()},ref:ve}),Ce))));if(V){var Ae,Fe,Te=function(e){var n,t,r,o;(ye((function(e){return!e})),V&&"function"!=typeof V)&&(null===(r=V.props)||void 0===r||null===(o=r.onClick)||void 0===o||o.call(r,e));null==e||null===(n=e.nativeEvent)||void 0===n||null===(t=n.stopPropagation)||void 0===t||t.call(n)};return"function"==typeof V?V((K(Fe={onClick:Te,ref:we,children:Pe},"aria-expanded",ke),K(Fe,"aria-haspopup",!0),Fe)):e.cloneElement(V,(K(Ae={ref:we,onClick:Te,children:e.createElement(e.Fragment,null,V.props.children,Pe)},"aria-expanded",ke),K(Ae,"aria-haspopup",!0),Ae))}return Pe}));ve.displayName="Menu",ve.propTypes={children:N.node,className:N.string,align:N.oneOf(Object.values(w)),justify:N.oneOf(Object.values(O)),refEl:N.shape({current:"undefined"!=typeof window?N.instanceOf(Element):N.any}),usePortal:N.bool,trigger:N.oneOfType([N.node,N.func]),open:N.bool,setOpen:N.func,darkMode:N.bool};var ye,ke,Ee,xe,we,Oe,je,De,Me,Ce,Se,Ne,ze,Le,Ie,Pe,Ae,Fe,Te,Re,Ue,He,Ve,Ze,qe,Be,Ke,_e,Ge,Je,We,Ye,$e,Qe,Xe,en,nn,tn,rn,on,an,ln,cn,un,sn,dn,gn,pn,fn,mn,bn=e.forwardRef((function(n,t){var r=n.children;return e.cloneElement(r,{ref:t})}));bn.displayName="FocusableMenuItem",bn.propTypes={children:N.element.isRequired,onFocus:N.func};var hn,vn,yn,kn,En,xn,wn,On,jn,Dn,Mn,Cn,Sn,Nn,zn,Ln,In,Pn,An,Fn,Tn,Rn,Un,Hn,Vn,Zn,qn,Bn,Kn,_n,Gn,Jn,Wn,Yn,$n,Qn,Xn,et,nt,tt,rt=u(ye||(ye=J(["\n  display: flex;\n  position: relative;\n  box-sizing: border-box;\n  flex-direction: row;\n  align-items: center;\n  width: 100%;\n  margin: unset;\n  padding-left: ","px;\n  padding-right: ","px;\n  font-family: ",";\n  font-size: 13px;\n  text-align: left;\n  text-decoration: none;\n  cursor: pointer;\n  border: none;\n\n  transition: background-color ","ms ease-in-out;\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    width: ","px;\n    left: 0px;\n    border-radius: 0 ","px ","px 0;\n    background-color: transparent;\n    transition: background-color ","ms ease-in-out;\n  }\n\n  &:hover {\n    text-decoration: none;\n  }\n"])),20,20,D.default,M.default,4,4,4,M.default),ot=(K(xe={},m.Light,u(ke||(ke=J(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),A.white,A.black,A.gray.dark3)),K(xe,m.Dark,u(Ee||(Ee=J(["\n    color: ",";\n    background-color: ",";\n\n    &:hover,\n    &:active {\n      background-color: ",";\n    }\n  "])),A.black,A.gray.light2,A.gray.light1)),xe),at=function(e){return u(we||(we=J(["\n    min-height: ","px;\n\n    &:before {\n      height: ","px;\n    }\n  "])),e===te.Default?36:45,e===te.Default?22:36)},lt=u(Oe||(Oe=J(["\n  width: 100%;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),it=u(je||(je=J(["\n  margin-right: 16px;\n  flex-shrink: 0;\n"]))),ct=(K(Ce={},m.Light,u(De||(De=J(["\n    color: ",";\n  "])),A.gray.base)),K(Ce,m.Dark,u(Me||(Me=J(["\n    color: ",";\n  "])),A.gray.dark1)),Ce),ut=u(Se||(Se=J(["\n  display: inline-flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: center;\n  width: 100%;\n  font-size: 13px;\n  font-weight: ",";\n\n  // We create a pseudo element that's the width of the bolded text\n  // This way there's no layout shift on hover when the text is bolded.\n  &:after {\n    content: attr(data-text);\n    height: 0;\n    font-weight: ",";\n    visibility: hidden;\n    overflow: hidden;\n    user-select: none;\n    pointer-events: none;\n  }\n"])),C.medium,C.bold),st=u(Ne||(Ne=J(["\n  font-size: 13px;\n  font-weight: ",";\n  line-height: 16px;\n  color: ",";\n"])),C.regular,A.gray.light1),dt=(K(Ie={},m.Light,s(st,u(ze||(ze=J(["\n      color: ",";\n    "])),A.gray.light1))),K(Ie,m.Dark,s(st,u(Le||(Le=J(["\n      color: ",";\n    "])),A.gray.dark2))),Ie),gt=u(Pe||(Pe=J(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),pt=function(e,n){return{text:u(Ae||(Ae=J(["\n    ."," {\n      &:not(:disabled):hover & {\n        font-weight: ",";\n      }\n    }\n  "])),e,C.bold),activeText:u(Fe||(Fe=J(["\n    ."," {\n      &:not(:disabled):hover & {\n        color: ",";\n      }\n    }\n  "])),e,n===m.Light?A.green.base:A.green.dark3)}},ft=(K(Ue={},m.Light,u(Te||(Te=J(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),A.black,A.green.base,A.green.base,A.green.base)),K(Ue,m.Dark,u(Re||(Re=J(["\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),A.gray.light2,A.green.dark2,A.green.dark3,A.green.dark2)),Ue),mt=(K(Ze={},m.Light,u(He||(He=J(["\n    font-weight: ",";\n    color: ",";\n  "])),C.bold,A.green.base)),K(Ze,m.Dark,u(Ve||(Ve=J(["\n    font-weight: ",";\n    color: ",";\n  "])),C.bold,A.green.dark2)),Ze),bt=(K(Ke={},m.Light,u(qe||(qe=J(["\n    color: ",";\n  "])),A.gray.light1)),K(Ke,m.Dark,u(Be||(Be=J(["\n    color: ",";\n  "])),A.gray.dark2)),Ke),ht=(K(Je={},m.Light,u(_e||(_e=J(["\n    color: ",";\n  "])),A.green.base)),K(Je,m.Dark,u(Ge||(Ge=J(["\n    color: ",";\n  "])),A.green.dark2)),Je),vt=u(We||(We=J(["\n  cursor: not-allowed;\n\n  &:active {\n    pointer-events: none;\n    background-color: unset;\n  }\n\n  &:hover {\n    &,\n    &:before {\n      background-color: unset;\n    }\n  }\n"]))),yt=(K(Qe={},m.Dark,s(vt,u(Ye||(Ye=J(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),A.gray.light2,A.gray.light2))),K(Qe,m.Light,s(vt,u($e||($e=J(["\n      background-color: ",";\n\n      &:hover {\n        background-color: ",";\n      }\n    "])),A.black,A.black))),Qe),kt=(K(nn={},m.Light,u(Xe||(Xe=J(["\n    color: ",";\n    font-weight: ",";\n  "])),A.gray.dark1,C.regular)),K(nn,m.Dark,u(en||(en=J(["\n    color: ",";\n    font-weight: ",";\n  "])),A.gray.base,C.regular)),nn),Et=(K(on={},m.Light,u(tn||(tn=J(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),A.blue.dark3,A.white,A.blue.light1)),K(on,m.Dark,u(rn||(rn=J(["\n    &:focus-visible {\n      text-decoration: none;\n      background-color: ",";\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n\n    &::-moz-focus-inner {\n      border: 0;\n    }\n  "])),A.blue.light2,A.blue.dark2,A.blue.base)),on),xt=function(e,n){return{textStyle:u(an||(an=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,n===m.Light?A.blue.light3:A.blue.dark1),descriptionStyle:u(ln||(ln=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,n===m.Light?A.blue.light3:A.blue.dark1),iconStyle:u(cn||(cn=J(["\n      .",":focus-visible & {\n        color: ",";\n      }\n    "])),e,n===m.Light?A.blue.light3:A.blue.dark1)}},wt=(K(dn={},m.Light,u(un||(un=J(["\n    color: ",";\n    font-weight: ",";\n  "])),A.red.light1,C.regular)),K(dn,m.Dark,u(sn||(sn=J(["\n    color: ",";\n    font-weight: ",";\n  "])),A.red.dark2,C.regular)),dn),Ot=u(gn||(gn=J(["\n  text-decoration: none;\n"]))),jt=(K(mn={},m.Light,u(pn||(pn=J(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),A.blue.dark3)),K(mn,m.Dark,u(fn||(fn=J(["\n    &:focus-visible {\n      &::after {\n        background-color: ",";\n      }\n    }\n  "])),A.blue.light2)),mn),Dt=(K(yn={},m.Light,u(hn||(hn=J(["\n    color: ",";\n  "])),A.gray.dark2)),K(yn,m.Dark,u(vn||(vn=J(["\n    color: ",";\n  "])),A.gray.base)),yn),Mt=(K(xn={},m.Light,u(kn||(kn=J(["\n    color: ",";\n  "])),A.red.light1)),K(xn,m.Dark,u(En||(En=J(["\n    color: ",";\n  "])),A.red.base)),xn),Ct="default",St="destructive",Nt=["as","disabled","active","size","className","children","description","glyph","variant"],zt=v("menu-item-container"),Lt=F((function(n,r){var o,a,l,i,c,u=n.as,d=n.disabled,g=void 0!==d&&d,p=n.active,f=void 0!==p&&p,m=n.size,b=void 0===m?te.Default:m,h=n.className,v=n.children,k=n.description,E=n.glyph,x=n.variant,w=void 0===x?Ct:x,O=G(n,Nt),j=T(u,O,"button").Component,D=t(re).theme,M=pt(zt,D),C=xt(zt,D),S=w===St,N=f&&!S,z="a"===j,L=E&&e.cloneElement(E,{role:"presentation",className:s(it,ct[D],C.iconStyle,(o={},K(o,ht[D],N),K(o,Mt[D],S),K(o,Dt[D],g),o),null===(a=E.props)||void 0===a?void 0:a.className)}),I=q({ref:r,role:"menuitem",tabIndex:-1,"aria-disabled":g,"aria-current":null!=f?f:void 0},!z&&{disabled:g}),P=z?{target:"_self",rel:""}:{},A=e.createElement(e.Fragment,null,L,e.createElement("div",{className:lt},e.createElement("div",{"data-text":y(v),className:s(ut,M.text,(l={},K(l,mt[D],N),K(l,M.activeText,N),K(l,wt[D],S),K(l,kt[D],g),l),C.textStyle)},v),k&&e.createElement("div",{className:s(dt[D],(i={},K(i,bt[D],N),K(i,kt[D],g),K(i,gt,z),i),C.descriptionStyle)},k)));return e.createElement("li",{role:"none"},e.createElement(j,_({},I,P,O,{className:s(zt,rt,ot[D],at(b),Ot,(c={},K(c,ft[D],N),K(c,yt[D],g),c),Et[D],h)}),A))}),"MenuItem");Lt.propTypes={onClick:N.func,className:N.string,description:N.node,disabled:N.bool,active:N.bool,children:N.node};var It,Pt,At,Ft=v("sub-menu-container"),Tt=v("icon-button"),Rt=v("icon-button-chevron"),Ut=u(wn||(wn=J(["\n  padding-right: ","px;\n  align-items: center;\n  justify-content: flex-start;\n"])),44),Ht=(K(Dn={},m.Light,s(Ut,u(On||(On=J(["\n      background-color: ",";\n    "])),A.black))),K(Dn,m.Dark,s(Ut,u(jn||(jn=J(["\n      background-color: ",";\n    "])),A.gray.light2))),Dn),Vt=(K(Sn={},m.Light,u(Mn||(Mn=J(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),A.gray.dark3)),K(Sn,m.Dark,u(Cn||(Cn=J(["\n    background-color: transparent;\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),A.gray.light1)),Sn),Zt=(K(Ln={},m.Light,u(Nn||(Nn=J(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),A.gray.light1)),K(Ln,m.Dark,u(zn||(zn=J(["\n    transition: color 200ms ease-in-out;\n    color: ",";\n  "])),A.gray.dark1)),Ln),qt=(K(An={},m.Light,u(In||(In=J(["\n    color: ",";\n  "])),A.gray.light1)),K(An,m.Dark,u(Pn||(Pn=J(["\n    color: ",";\n  "])),A.gray.dark1)),An),Bt=u(Fn||(Fn=J(["\n  position: absolute;\n  z-index: 1;\n  right: 8px;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  transition: background-color ","ms ease-in-out;\n"])),M.default),Kt=(K(Un={},m.Light,u(Tn||(Tn=J(["\n    background-color: ",";\n\n    &:hover {\n      background-color: ",";\n    }\n  "])),A.black,A.gray.dark2)),K(Un,m.Dark,u(Rn||(Rn=J(["\n    background-color: ",";\n\n    &:hover {\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),A.gray.light2,A.gray.light3)),Un),_t=(K(Zn={},m.Light,u(Hn||(Hn=J(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),Rt,A.white)),K(Zn,m.Dark,u(Vn||(Vn=J(["\n    &:focus-visible {\n      ."," {\n        color: ",";\n      }\n    }\n  "])),Rt,A.black)),Zn),Gt=(K(Kn={},m.Light,u(qn||(qn=J(["\n    background-color: ",";\n  "])),A.black)),K(Kn,m.Dark,u(Bn||(Bn=J(["\n    background-color: ",";\n  "])),A.gray.light2)),Kn),Jt=u(_n||(_n=J(["\n  list-style: none;\n  padding: 0;\n  height: 0;\n  overflow: hidden;\n  transition: height ","ms ease-in-out;\n  position: relative;\n\n  &::before {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n  }\n\n  &::before {\n    top: 0;\n  }\n\n  &::after {\n    bottom: 0;\n  }\n"])),M.default),Wt=(K(Wn={},m.Light,u(Gn||(Gn=J(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),A.gray.dark2)),K(Wn,m.Dark,u(Jn||(Jn=J(["\n    &::before,\n    &::after {\n      background-color: ",";\n    }\n  "])),A.gray.light1)),Wn),Yt=u(Yn||(Yn=J(["\n  width: 100%;\n  font-weight: ",";\n  font-size: 13px;\n  line-height: 16px;\n  padding-left: 16px;\n  text-shadow: none;\n"])),C.regular),$t=u($n||($n=J(["\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  background: ",";\n  top: 0;\n"])),A.gray.dark2),Qt=u(Qn||(Qn=J(["\n  ",";\n  top: unset;\n  bottom: 0;\n"])),$t),Xt=u(Xn||(Xn=J(["\n  // Reassign the variable for specificity\n  --lg-menu-item-text-color: ",";\n  position: relative;\n  min-height: 32px;\n\n  > div {\n    padding-left: 16px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    height: 1px;\n    right: 0;\n    z-index: 1;\n    bottom: 0;\n  }\n"])),A.gray.light1),er=(K(tt={},m.Light,u(et||(et=J(["\n    color: ",";\n\n    &::after {\n      background-color: ",";\n    }\n  "])),A.gray.light1,A.gray.dark2)),K(tt,m.Dark,u(nt||(nt=J(["\n    color: ",";\n\n    &:hover {\n      color: ",";\n    }\n\n    &::after {\n      background-color: ",";\n    }\n  "])),A.gray.dark2,A.black,A.gray.light1)),tt),nr=["title","children","onClick","description","setOpen","className","glyph","onExited","open","active","disabled","size","as"],tr=["className"],rr=F((function(n,r){var l,i,c,d,g,p=n.title,f=n.children,m=n.onClick,b=n.description,h=n.setOpen,v=n.className,k=n.glyph,E=n.onExited,x=void 0===E?function(){}:E,w=n.open,O=void 0!==w&&w,j=n.active,D=void 0!==j&&j,M=n.disabled,C=void 0!==M&&M,S=n.size,N=void 0===S?te.Default:S,z=n.as,L=G(n,nr),I=T(z,L,"button").Component,P=t(re),A=P.theme,F=P.darkMode,Z=pt(Ft,A),B=xt(Ft,A),Y=e.useRef(null),$=W(o(null),2),Q=$[0],X=$[1],ee=a((function(e){null!=Q&&Q.contains(e.target)?e.preventDefault():m&&m(e)}),[Q,m]),ne=e.Children.toArray(f).length,oe=O?U:H,ae=s((K(l={},qt[A],O),K(l,Zt[A],!O),l)),le="a"===I,ie=k&&e.cloneElement(k,{role:"presentation",className:s(it,ct[A],B.iconStyle,K({},ht[A],D),null===(i=k.props)||void 0===i?void 0:i.className)}),ce=q({ref:r,role:"menuitem","aria-haspopup":!0,onClick:ee,tabIndex:C?-1:void 0,"aria-disabled":C},"string"!=typeof L.href&&{disabled:C}),ue=le?{target:"_self",rel:""}:{},se=e.createElement(e.Fragment,null,ie,e.createElement("div",{className:lt},e.createElement("div",{"data-text":y(f),className:s(ut,Z.text,(c={},K(c,mt[A],D),K(c,Z.activeText,D),K(c,kt[A],C),c),B.textStyle)},p),b&&e.createElement("div",{className:s(dt[A],(d={},K(d,bt[A],D),K(d,kt[A],C),K(d,gt,le),d),B.descriptionStyle)},b)));return e.createElement("li",{role:"none"},e.createElement(I,_({},ce,ue,L,{className:s(Ft,rt,ot[A],at(N),Ot,Ht[A],(g={},K(g,ft[A],D),K(g,yt[A],C),K(g,Vt[A],O),g),Et[A],v)}),se,e.createElement(V,{"data-testid":"lg-sub-menu-icon-button",darkMode:!F,ref:X,"aria-label":O?"Close Sub-menu":"Open Sub-menu",className:s(Tt,Bt,Kt[A],_t[A],K({},Gt[A],O)),onClick:function(e){e.nativeEvent.stopImmediatePropagation(),h&&h(!O)}},e.createElement(oe,{role:"presentation",className:s(Rt,ae),size:14}))),e.createElement(R,{in:O,timeout:{enter:0,exit:150},mountOnEnter:!0,unmountOnExit:!0,onExited:x,nodeRef:Y},(function(n){return e.createElement("ul",{ref:Y,className:s(Jt,Wt[A],u(It||(It=J(["\n                  &::before {\n                    // this is the width for the UL border\n                    width: calc(\n                      100% -\n                        ","px\n                    );\n                  }\n                "])),k?54:20),K({},u(Pt||(Pt=J(["\n                    height: ","px;\n                  "])),32*ne),"entered"===n)),role:"menu","aria-label":p},e.Children.map(f,(function(n,t){var r=n.props;r.className;var o=G(r,tr);return e.cloneElement(n,q({size:te.Default,children:e.createElement(e.Fragment,null,e.createElement("div",{className:$t}),e.createElement("span",{className:Yt},n.props.children),t===ne-1&&e.createElement("div",{className:Qt})),className:s(Xt,er[A],u(At||(At=J(["\n                        // padding-left of the button\n                        padding-left: ","px;\n                        &::after {\n                          // this is the width for the button bottom border\n                          width: calc(\n                            100% -\n                              ","px\n                          );\n                        }\n                      "])),k?54:20,k?54:20),jt[A],n.props.className),onClick:function(e){var t,r;null===(t=n.props)||void 0===t||null===(r=t.onClick)||void 0===r||r.call(t,e),m&&m(e)}},o))})))})))}));rr.displayName="SubMenu",rr.propTypes={title:N.string,description:N.oneOfType([N.string,N.element]),children:N.node,setOpen:N.func,onKeyDown:N.func,className:N.string,onClick:N.func,glyph:N.element,onExited:N.func,open:N.bool,active:N.bool,disabled:N.bool};var or,ar,lr=["open","size","darkMode"],ir=j.getAlign,cr=j.getJustify,ur={title:"Components/Menu",component:ve,parameters:{default:"LiveExample",controls:{exclude:[].concat((ar=E,function(e){if(Array.isArray(e))return $(e)}(ar)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ar)||Y(ar)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),["trigger","children","refEl","setOpen","as"])},generate:{combineArgs:{darkMode:[!1,!0],align:Object.values(w),justify:Object.values(O)},args:{open:!0,maxHeight:200,children:e.createElement(e.Fragment,null,e.createElement(Lt,null,"Lorem"),e.createElement(rr,{title:"Fruit",description:"A selection of fruit",glyph:e.createElement(g,{size:"large"}),active:!0},e.createElement(Lt,{active:!0},"Apple"),e.createElement(Lt,{variant:"destructive"},"Banana"),e.createElement(Lt,null,"Carrot"),e.createElement(Lt,null,"Dragonfruit"),e.createElement(Lt,null,"Eggplant"),e.createElement(Lt,null,"Fig")))},excludeCombinations:[{align:[w.CenterHorizontal,w.CenterVertical]},{justify:O.Fit,align:[w.Left,w.Right]}],decorator:function(n,t){return e.createElement("div",{className:u(or||(or=J(["\n            width: 256px;\n            height: 250px;\n            display: flex;\n            align-items: ",";\n            justify-content: ",";\n          "])),["left","right"].includes(null==t?void 0:t.args.align)?"end":ir(null==t?void 0:t.args.align,null==t?void 0:t.args.justify),cr(null==t?void 0:t.args.align,null==t?void 0:t.args.justify))},e.createElement(n,{trigger:e.createElement(c,{darkMode:null==t?void 0:t.args.darkMode,size:"xsmall"},"trigger")}))}},chromatic:{delay:M.default}},args:{open:!0,align:"bottom",usePortal:!0,darkMode:!1},argTypes:{open:{control:"boolean"},usePortal:{control:"boolean"},size:{options:Object.values(te),control:"select",description:"Size of the `MenuItem` component, can be `default` or `large`"},darkMode:k.darkMode}},sr=function(n){n.open;var t=n.size,r=n.darkMode,o=G(n,lr);return e.createElement(p,null,e.createElement(ve,_({darkMode:r,trigger:e.createElement(c,{darkMode:r,rightGlyph:e.createElement(d,null)},"Menu")},o),e.createElement(Lt,{size:t,glyph:e.createElement(g,null)},"Menu Item"),e.createElement(Lt,{description:"I am also a description",size:t,glyph:e.createElement(g,null)},"Menu Item"),e.createElement(Lt,{disabled:!0,description:"I am a description",size:t},"Disabled Menu Item"),e.createElement(Lt,{disabled:!0,description:"I am a description",size:t,glyph:e.createElement(g,null)},"Disabled Menu Item"),e.createElement(le,null),e.createElement(Lt,{size:t,href:"http://mongodb.design"},"I am a link!"),e.createElement(rr,{title:"Menu Item 1",description:".design",glyph:e.createElement(g,{size:"large"}),active:!0,href:"http://mongodb.design",size:t},e.createElement(Lt,{active:!0},"SubMenu Item 1"),e.createElement(Lt,null,"SubMenu Item 2"),e.createElement(Lt,null,"SubMenu Item 3")),e.createElement(rr,{title:"Menu Item 2",description:"Sed posuere",size:t},e.createElement(Lt,null,"Support 1"),e.createElement(Lt,null,"Support 2")),e.createElement(le,null),e.createElement(Lt,{size:t},"Lorem"),e.createElement(Lt,{size:t},"Ipsum"),e.createElement(Lt,{size:t},"Adipiscing"),e.createElement(Lt,{size:t},"Cursus"),e.createElement(Lt,{size:t},"Ullamcorper"),e.createElement(Lt,{size:t},"Vulputate"),e.createElement(Lt,{size:t},"Inceptos"),e.createElement(Lt,{size:t},"Risus")))};sr.parameters={chromatic:{disableSnapshot:!0}};var dr=function(){return e.createElement(e.Fragment,null)};export{dr as Generated,sr as LiveExample,ur as default};
