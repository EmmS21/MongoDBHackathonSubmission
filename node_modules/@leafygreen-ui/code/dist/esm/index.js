import n,{useState as e,useRef as t,useEffect as r,createContext as i,useContext as o,useMemo as l}from"react";import a from"clipboard";import g from"lodash/debounce";import c from"prop-types";import{css as h,cx as s,injectGlobal as u}from"@leafygreen-ui/emotion";import{useBackdropClick as d,usePrevious as p,useIsomorphicLayoutEffect as f}from"@leafygreen-ui/hooks";import m,{useDarkMode as b,usePopoverPortalContainer as y,useBaseFontSize as v}from"@leafygreen-ui/leafygreen-provider";import{Theme as w,keyMap as k,isComponentType as x}from"@leafygreen-ui/lib";import{VisuallyHidden as j}from"@leafygreen-ui/a11y";import N from"@leafygreen-ui/icon/dist/Checkmark";import C from"@leafygreen-ui/icon/dist/Copy";import O from"@leafygreen-ui/icon-button";import E,{Align as S,Justify as L}from"@leafygreen-ui/tooltip";import{palette as P}from"@leafygreen-ui/palette";import{isComponentGlyph as A}from"@leafygreen-ui/icon";import D from"@leafygreen-ui/icon/dist/File";import{Select as B,Option as M}from"@leafygreen-ui/select";import T from"@leafygreen-ui/button";import{spacing as I,fontWeights as _,fontFamilies as R,typeScales as q,transitionDuration as W}from"@leafygreen-ui/tokens";import z from"highlight.js/lib/core";import F from"highlightjs-graphql";import Z from"highlight.js/lib/languages/bash";import J from"highlight.js/lib/languages/c";import G from"highlight.js/lib/languages/cpp";import H from"highlight.js/lib/languages/csharp";import K from"highlight.js/lib/languages/dart";import U from"highlight.js/lib/languages/diff";import X from"highlight.js/lib/languages/go";import Y from"highlight.js/lib/languages/http";import $ from"highlight.js/lib/languages/ini";import Q from"highlight.js/lib/languages/java";import V from"highlight.js/lib/languages/javascript";import nn from"highlight.js/lib/languages/json";import en from"highlight.js/lib/languages/kotlin";import tn from"highlight.js/lib/languages/objectivec";import rn from"highlight.js/lib/languages/perl";import on from"highlight.js/lib/languages/php";import ln from"highlight.js/lib/languages/properties";import an from"highlight.js/lib/languages/python";import gn from"highlight.js/lib/languages/ruby";import cn from"highlight.js/lib/languages/rust";import hn from"highlight.js/lib/languages/scala";import sn from"highlight.js/lib/languages/shell";import un from"highlight.js/lib/languages/sql";import dn from"highlight.js/lib/languages/swift";import pn from"highlight.js/lib/languages/typescript";import fn from"highlight.js/lib/languages/xml";import mn from"highlight.js/lib/languages/yaml";import bn from"lodash/flatMap";import yn from"facepaint";import{transparentize as vn}from"polished";function wn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function kn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?wn(Object(t),!0).forEach((function(e){jn(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function xn(n){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xn(n)}function jn(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=typeof n||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nn(){return Nn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nn.apply(this,arguments)}function Cn(n,e){if(null==n)return{};var t,r,i=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function On(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function En(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,l,a=[],g=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;g=!1}else for(;!(g=(r=o.call(t)).done)&&(a.push(r.value),a.length!==e);g=!0);}catch(n){c=!0,i=n}finally{try{if(!g&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(n,e)||Ln(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(n){return function(n){if(Array.isArray(n))return Pn(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||Ln(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(n,e){if(n){if("string"==typeof n)return Pn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pn(n,e):void 0}}function Pn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var An,Dn,Bn,Mn,Tn,In,_n=1500,Rn="Copied!",qn="Copy",Wn=(jn(Bn={},w.Light,h(An||(An=On(["\n    color: ",";\n    background-color: ",";\n\n    &:focus,\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),P.white,P.green.dark1,P.white,P.green.dark1)),jn(Bn,w.Dark,h(Dn||(Dn=On(["\n    color: ",";\n    background-color: ",";\n\n    &:focus,\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "])),P.gray.dark3,P.green.base,P.gray.dark3,P.green.base)),Bn),zn=(jn(In={},w.Light,h(Mn||(Mn=On(["\n    align-self: center;\n    color: ",";\n  "])),P.gray.base)),jn(In,w.Dark,h(Tn||(Tn=On(["\n    align-self: center;\n    color: ",";\n  "])),P.gray.light1)),In);function Fn(i){var o=i.onCopy,l=i.contents,g=En(e(!1),2),c=g[0],h=g[1],u=En(e(!1),2),p=u[0],f=u[1],m=t(null),v=b().theme,w=y().portalContainer,x=function(){return f(!1)};d(x,m,p),r((function(){if(m.current){var n=new a(m.current,{text:function(){return l},container:w});if(c){var e=setTimeout((function(){h(!1)}),_n);return function(){return clearTimeout(e)}}return function(){return n.destroy()}}}),[m,l,c,w]);return n.createElement(E,{"data-testid":"code_copy-button_tooltip",open:p,setOpen:f,align:S.Top,justify:L.Middle,trigger:n.createElement(O,{"data-testid":"code_copy-button",ref:m,"aria-label":qn,className:s(zn[v],jn({},Wn[v],c)),onClick:function(n){n.preventDefault(),null==o||o(),h(!0)},onKeyDown:function(n){switch(n.key){case k.Escape:case k.Tab:x();break;case k.Enter:case k.Space:var e,t;n.preventDefault(),null===(e=m.current)||void 0===e||e.click(),null===(t=m.current)||void 0===t||t.focus()}},onMouseEnter:function(){f(!0)},onMouseLeave:function(){x()}},c?n.createElement(N,null):n.createElement(C,null),c&&n.createElement(j,{role:"alert"},Rn)),shouldClose:function(){return!p}},c?Rn:qn)}Fn.displayName="CopyButton";var Zn,Jn,Gn,Hn,Kn,Un,Xn,Yn=["children"],$n=n.forwardRef((function(e,t){var r=e.children,i=Cn(e,Yn);return n.createElement(T,Nn({},i,{ref:t}),r)}));$n.displayName="CustomSelectMenuButton";var Qn,Vn,ne,ee,te,re,ie,oe,le,ae,ge,ce,he,se=h(Zn||(Zn=On(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),ue=h(Jn||(Jn=On(["\n  // Override default menuButton styles\n  margin-top: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 0px;\n  border: 0;\n  font-size: 12px;\n\n  &:hover[aria-disabled='false'],\n  &:focus,\n  &:active {\n    box-shadow: 0 0 0 0;\n    border: 0;\n  }\n\n  // Override button defaults\n  > *:last-child {\n    grid-template-columns: 16px 1fr 16px;\n    padding: 0 12px;\n    > svg {\n      width: 16px;\n      height: 16px;\n    }\n  }\n"]))),de=(jn(Kn={},w.Light,h(Gn||(Gn=On(["\n    background-color: ",";\n    border-right: 1px solid ",";\n    box-shadow: 0 0 0 0;\n\n    &:hover[aria-disabled='false'],\n    &:active,\n    &:focus {\n      border-right: 1px solid ",";\n    }\n\n    &:hover[aria-disabled='false'] {\n      background-color: ",";\n    }\n\n    &:focus-visible {\n      background-color: ",";\n    }\n  "])),P.white,P.gray.light2,P.gray.light2,P.gray.light2,P.blue.light2)),jn(Kn,w.Dark,h(Hn||(Hn=On(["\n    background-color: ",";\n    border-right: 1px solid ",";\n    color: ",";\n\n    &:hover[aria-disabled='false'],\n    &:focus,\n    &:active {\n      border-right: 1px solid ",";\n    }\n\n    &:hover[aria-disabled='false'],\n    &:active {\n      background-color: ",";\n    }\n\n    &:focus-visible {\n      background-color: ",";\n    }\n  "])),P.gray.dark2,P.gray.dark1,P.gray.light2,P.gray.dark1,P.gray.dark1,P.blue.light1)),Kn),pe=h(Un||(Un=On(["\n  min-width: 144px;\n  height: 100%;\n"]))),fe=h(Xn||(Xn=On(["\n  margin-right: ","px;\n"])),I[3]);function me(e){var t,r=e.language,i=e.languageOptions,o=e.onChange,l=e.usePortal,a=e.portalClassName,g=e.portalContainer,c=e.scrollContainer,u=e.popoverZIndex,d=b(),f=d.theme,m=d.darkMode,y=p(r),v=s(fe,h(Qn||(Qn=On(["\n      color: ",";\n    "])),m?P.gray.light1:P.gray.base)),w=n.createElement(D,{className:v});null!=r.image&&(t=r.image,w=A(t)||x(t,"Icon")?n.cloneElement(r.image,{className:v}):n.cloneElement(r.image,{className:fe}));var k={popoverZIndex:u,usePortal:l,portalClassName:a,portalContainer:g,scrollContainer:c};return n.createElement("div",{className:se},n.createElement(B,Nn({darkMode:m,onChange:function(n){if(""===n&&void 0!==y)return o(y);var e=i.find((function(e){return e.displayName===n}));void 0!==e&&o(e)},"aria-labelledby":"Language Picker",value:null==r?void 0:r.displayName,className:pe,allowDeselect:!1},k,{__INTERNAL__menuButtonSlot__:$n,__INTERNAL__menuButtonSlotProps__:{className:s(ue,de[f]),leftGlyph:w}}),null==i?void 0:i.map((function(e){return n.createElement(M,{key:null==e?void 0:e.displayName,value:null==e?void 0:e.displayName},null==e?void 0:e.displayName)}))))}me.displayName="LanguageSwitcher";var be,ye=h(Vn||(Vn=On(["\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  gap: ","px;\n\n  svg {\n    width: 16px;\n    height: 16px;\n  }\n"])),I[1]),ve=(jn(te={},w.Light,h(ne||(ne=On(["\n    background-color: ",";\n  "])),P.white)),jn(te,w.Dark,h(ee||(ee=On(["\n    background-color: ",";\n  "])),P.gray.dark2)),te),we=h(re||(re=On(["\n  flex-direction: column;\n  padding: 6px;\n  border-left: solid 1px;\n"]))),ke=(jn(le={},w.Light,s(we,h(ie||(ie=On(["\n      border-color: ",";\n    "])),P.gray.light2))),jn(le,w.Dark,s(we,h(oe||(oe=On(["\n      border-color: ",";\n    "])),P.gray.dark2))),le),xe=h(ae||(ae=On(["\n  flex-direction: row;\n  border-bottom: 1px solid;\n  justify-content: space-between;\n  padding: 0;\n  padding-right: 8px;\n  height: 40px; // 28px (icon) + 2 x 6px (focus shadow). Can't use padding b/c switcher\n"]))),je=(jn(he={},w.Light,s(xe,h(ge||(ge=On(["\n      border-color: ",";\n    "])),P.gray.light2))),jn(he,w.Dark,s(xe,h(ce||(ce=On(["\n      border-color: ",";\n    "])),P.gray.dark1))),he);function Ne(e){var t,r=e.language,i=e.languageOptions,o=e.contents,l=e.onChange,a=e.onCopy,g=e.showCopyButton,c=e.customActionButtons,h=e.showCustomActionButtons,u=e.usePortal,d=e.portalClassName,p=e.portalContainer,f=e.scrollContainer,m=e.popoverZIndex,y=e.className,v=b().theme,w={popoverZIndex:m,usePortal:u,portalClassName:d,portalContainer:p,scrollContainer:f};return n.createElement("div",{className:s(ye,ve[v],(t={},jn(t,ke[v],!r),jn(t,je[v],!!r),t),y),"data-testid":"leafygreen-code-panel"},void 0!==r&&void 0!==i&&void 0!==l&&n.createElement(me,Nn({onChange:l,language:r,languageOptions:i},w)),g&&n.createElement(Fn,{onCopy:a,contents:o,withLanguageSwitcher:!!r}),h&&n.createElement(n.Fragment,null,null==c?void 0:c.map((function(n){return n}))))}Ne.displayName="Panel";var Ce=(jn(be={},w.Light,{0:P.gray.light3,1:P.gray.light2,2:P.gray.dark2,3:P.black,4:P.white,5:"#D83713",6:"#956d00",7:"#12824D",8:"#007ab8",9:"#016ee9",10:"#CC3887"}),jn(be,w.Dark,{0:P.black,1:P.gray.dark2,2:P.gray.light1,3:P.gray.light3,4:P.gray.dark2,5:"#FF6F44",6:"#EDB210",7:"#35DE7B",8:"#a5e3ff",9:"#2dc4ff",10:"#FF7DC3"}),be),Oe=function(n){return"\n  .lg-highlight-hljs-".concat(n," {\n    \n    .lg-highlight-keyword,\n    .lg-highlight-keyword.lg-highlight-function,\n    .lg-highlight-keyword.lg-highlight-class,\n    .lg-highlight-selector-tag,\n    .lg-highlight-selector-attr,\n    .lg-highlight-selector-pseudo,\n    .lg-highlight-selector-id,\n    .lg-highlight-selector-class {\n      color: ").concat(Ce[n][10],";\n    }\n\n    .lg-highlight-regexp,\n    .lg-highlight-number,\n    .lg-highlight-literal,\n    .lg-highlight-function.lg-highlight-title {\n      color: ").concat(Ce[n][9],";\n    }\n\n    .lg-highlight-quote,\n    .lg-highlight-section,\n    .lg-highlight-name {\n      color: ").concat(Ce[n][8],";\n    }\n\n    .lg-highlight-string,\n    .lg-highlight-addition {\n      color: ").concat(Ce[n][7],";\n    }\n\n    .lg-highlight-meta,\n    .lg-highlight-meta-string {\n      color: ").concat(Ce[n][6],";\n    }\n\n    .lg-highlight-variable,\n    .lg-highlight-deletion,\n    .lg-highlight-symbol,\n    .lg-highlight-bullet,\n    .lg-highlight-meta,\n    .lg-highlight-link,\n    .lg-highlight-attr,\n    .lg-highlight-attribute,\n    .lg-highlight-language,\n    .lg-highlight-template-variable,\n    .lg-highlight-built_in,\n    .lg-highlight-type,\n    .lg-highlight-params {\n      color: ").concat(Ce[n][5],"\n    }\n\n    .lg-highlight-title,\n    .lg-highlight-class.lg-highlight-title {\n      color: ").concat(Ce[n][3],";\n    }\n\n    .lg-highlight-doctag,\n    .lg-highlight-formula {\n      color: ").concat(Ce[n][3],";\n    }\n  \n    .lg-highlight-comment {\n      color: ").concat(Ce[n][2],";\n      font-style: italic;\n    }\n  \n    .lg-highlight-string {\n      font-weight: 600;\n    }\n    \n    .lg-highlight-emphasis {\n      font-style: italic;\n    }\n  \n    .lg-highlight-strong {\n      font-weight: ").concat(_.bold,";\n    }\n  }\n")};var Ee,Se,Le,Pe,Ae={javascript:V,typescript:pn,c:J,cpp:G,csharp:H,go:X,http:Y,ini:$,java:Q,perl:rn,php:on,properties:ln,python:an,ruby:gn,rust:cn,scala:hn,swift:dn,kotlin:en,objectivec:tn,dart:K,bash:Z,shell:sn,sql:un,yaml:mn,json:nn,diff:U,xml:fn},De={JavaScript:"javascript",JS:"js",TypeScript:"typescript",TS:"ts",C:"c",Cpp:"cpp",Csharp:"csharp",Cs:"cs",Go:"go",Html:"xml",Http:"http",Ini:"ini",Java:"java",Perl:"perl",Php:"php",Properties:"properties",Python:"python",Ruby:"ruby",Rust:"rust",Scala:"scala",Swift:"swift",Kotlin:"kotlin",ObjectiveC:"objectivec",Dart:"dart",Bash:"bash",Shell:"shell",Sql:"sql",Yaml:"yaml",Json:"json",Graphql:"graphql",Diff:"diff",Xml:"xml"},Be=i({highlightLines:[],darkMode:!1});function Me(){for(var n="lg-highlight-",e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(n){return qe(n)&&n.length>0})).map((function(e){return e.startsWith(n)?e:e.split(".").map((function(e){return"".concat(n).concat(e)})).join(" ")})).join(" ")}function Te(){for(var n=["function","class"],e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return n.includes(e)}))}function Ie(e){var t=e.kind,r=e.children;return n.createElement("span",{className:t},r)}function _e(n){return null!=n&&n instanceof Array}function Re(n){return null!=n&&"object"===xn(n)&&!(n instanceof Array)}function qe(n){return null!=n&&"string"==typeof n}function We(e,t){return null==e?null:qe(e)?e:_e(e)?e.map(We):Re(e)?n.createElement(Ie,{key:t,kind:e.kind},We(e.children)):e}var ze=h(Ee||(Ee=On(["\n  border-spacing: 0;\n  vertical-align: top;\n  padding: 0 ","px;\n"])),I[3]);function Fe(n){var e,t,r;return n?(e="transparent",t="linear-gradient(90deg, ".concat(P.gray.dark3,", ").concat(P.black,")"),r=P.gray.dark3):(e=P.yellow.light3,t="none",r=P.yellow.light2),h(Se||(Se=On(["\n    background-color: ",";\n    background-image: ",";\n    // Fixes an issue in Safari where the gradient applied to the table row would be applied\n    // to each cell in the row instead of being continuous across cells.\n    background-attachment: fixed;\n\n    // Selects all children of a highlighted row, and adds a border top\n    & > td {\n      border-top: 1px solid ",";\n    }\n\n    // Selects following rows after a highlighted row, and adds a border top\n    // We don't add border bottoms here to support consecutive highlighted rows.\n    & + tr > td {\n      border-top: 1px solid ",";\n    }\n\n    // Remove borders between consecutive highlighted rows\n    & + & > td {\n      border-top: 0;\n    }\n\n    // If the highlighted row is the last child, then we add a border bottom\n    &:last-child > td {\n      border-bottom: 1px solid ",";\n    }\n  "])),e,t,r,r,r)}function Ze(e){var t=e.lineNumber,r=e.highlighted,i=e.darkMode,o=e.children,l=i?P.gray.light1:P.gray.dark1,a=i?P.gray.light3:P.yellow.dark2;return n.createElement("tr",{className:s(jn({},Fe(i),r))},t&&n.createElement("td",{className:s(ze,h(Le||(Le=On(["\n              user-select: none;\n              text-align: right;\n              padding-left: ","px;\n              padding-right: 0;\n              color: ",";\n            "])),I[3]-1,r?a:l))},t),n.createElement("td",{className:ze},o))}function Je(n){var e=(null!=n?n:{}).children;return!(!_e(e)||1!==e.length||!qe(e[0]))}function Ge(n,e){if("string"==typeof n)return n;if(null!=(t=n)&&"object"===xn(t)&&"string"==typeof t.kind&&t.children instanceof Array)return Ge(n.children,e);var t;return bn(n,function n(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r=r.filter((function(n){return qe(n)&&n.length>0})),function(t){var i,o;return qe(t)?r.length>0?{kind:Me.apply(void 0,[e].concat(Sn(r),Sn(Te(t)))),children:[t]}:t:(null!==(i=null==t||null===(o=t.children)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>=1?bn(t.children,n.apply(void 0,[e,t.kind].concat(Sn(r)))):Je(t)?{kind:Me.apply(void 0,[e,t.kind].concat(Sn(r),Sn(Te.apply(void 0,Sn(t.children))))),children:t.children}:t}}(e))}function He(n){return _e(n)?n.some(He):qe(n)?n.includes("\n"):!!Re(n)&&((null===(e=n.children)||void 0===e?void 0:e.includes("\n"))||qe(null===(t=n.children)||void 0===t?void 0:t[0])&&n.children[0].includes("\n"));var e,t}function Ke(n){var e=[],t=0;null==e[t]&&(e[t]=[]);var r=function(){t++,e[t]=[]};return Ge(n).forEach((function(n){He(n)?qe(n)?n.split("\n").forEach((function(n,i){i>0&&r(),n&&e[t].push(n)})):n.children[0].split("\n").forEach((function(i,o){o>0&&r(),e[t].push({kind:n.kind,children:[i]})})):n&&(qe(n)||Je(n))&&e[t].push(n)})),e}function Ue(e){for(var t=e.lines,r=o(Be),i=r.highlightLines,l=r.showLineNumbers,a=r.darkMode,g=r.lineNumberStart,c=Sn(t);0===(null===(s=c[0])||void 0===s?void 0:s.length);){var s;c.shift()}for(;0===(null===(u=c[c.length-1])||void 0===u?void 0:u.length);){var u;c.pop()}return n.createElement(n.Fragment,null,c.map((function(e,t){var r,o=t+(null!=g?g:1),c=function(n){return i.some((function(e){if(null!=(t=e)&&"number"==typeof t)return n===e;var t;if(_e(e)){var r=Sn(e).sort((function(n,e){return n-e}));return n>=r[0]&&n<=r[1]}return!1}))}(o);l&&(r=o);var s=null!=e&&e.length?e.map(We):n.createElement("div",{className:h(Pe||(Pe=On(["\n              display: inline-block;\n            "])))});return n.createElement(Ze,{key:o,lineNumber:r,darkMode:a,highlighted:c},s)})))}var Xe,Ye,$e,Qe={"after:highlight":function(e){var t=e._emitter.rootNode;e.react=n.createElement(Ue,{lines:Ke(t.children)})}},Ve={Light:"light",Dark:"dark"},nt=kn(kn({},De),{},{None:"none"}),et=["children","language","showLineNumbers","lineNumberStart","highlightLines","className"];function tt(n){return"cs"!==n&&"js"!==n&&"ts"!==n}var rt=!1;function it(){rt=!0,Object.values(w).forEach((function(n){return u(Oe(n))}));var n=Object.values(De).filter(tt);n.forEach((function(n){"graphql"===n?F(z):z.registerLanguage(n,Ae[n])})),z.configure({languages:n,tabReplace:"  "}),z.addPlugin(Qe)}var ot,lt,at,gt,ct,ht=h(Xe||(Xe=On(["\n  color: inherit;\n  font-family: ",";\n"])),R.code);function st(e){var t=e.children,r=e.language,i=e.showLineNumbers,o=void 0!==i&&i,a=e.lineNumberStart,g=e.highlightLines,c=void 0===g?[]:g,u=e.className,d=Cn(e,et);rt||it();var p=l((function(){return r===nt.None?null:z.highlight(t,{language:r,ignoreIllegals:!0})}),[r,t]),f=null===p?n.createElement(Ue,{lines:t.split("\n").map((function(n){return n?[n]:[]}))}):p.react,m=b(),y=m.theme,w=m.darkMode,k=14===v()?q.code1:q.code2,x=h(Ye||(Ye=On(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),k.fontSize,k.lineHeight);return n.createElement(Be.Provider,{value:{highlightLines:c,showLineNumbers:o,lineNumberStart:a,darkMode:w}},n.createElement("code",Nn({},d,{className:s("lg-highlight-hljs-".concat(y),ht,x,r,u)}),n.createElement("table",{className:h($e||($e=On(["\n            border-spacing: 0;\n          "])))},n.createElement("tbody",null,f))))}st.displayName="Syntax",st.propTypes={children:c.string.isRequired,language:c.oneOf(Object.values(nt)),className:c.string,darkMode:c.bool,showLineNumbers:c.bool,lineNumberStart:c.number,highlightLines:c.arrayOf(c.oneOfType([c.arrayOf(c.number),c.number]))};var ut=h(ot||(ot=On(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: ","px;\n  padding-left: ","px;\n  padding-right: ","px;\n  border-radius: ","px ","px 0 0;\n  font-family: ",";\n"])),28,12,12,4,4,R.default),dt=(jn(gt={},w.Light,h(lt||(lt=On(["\n    color: ",";\n    background-color: ",";\n  "])),P.gray.dark2,Ce.light[1])),jn(gt,w.Dark,h(at||(at=On(["\n    color: ",";\n    background-color: ",";\n  "])),P.gray.light1,Ce.dark[1])),gt),pt=h(ct||(ct=On(["\n  padding-left: ","px;\n  padding-right: ","px;\n  font-size: ","px;\n"])),8,8,q.body1.fontSize);function ft(e){var t=e.chromeTitle,r=void 0===t?"":t,i=b().theme;return n.createElement("div",{className:s(ut,dt[i])},n.createElement("div",{className:pt},r))}ft.displayName="WindowChrome",ft.propTypes={darkMode:c.bool,chromeTitle:c.string};var mt,bt,yt,vt,wt,kt,xt,jt,Nt,Ct,Ot,Et,St,Lt,Pt,At,Dt,Bt={None:"none",Left:"left",Right:"right",Both:"both"},Mt=yn(["@media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2)","@media only screen and (min-device-width: 813px) and (-webkit-min-device-pixel-ratio: 2)"]),Tt=(jn(yt={},w.Light,h(mt||(mt=On(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    overflow: hidden;\n  "])),Ce[w.Light][1])),jn(yt,w.Dark,h(bt||(bt=On(["\n    border: 1px solid ",";\n    border-radius: 12px;\n    overflow: hidden;\n  "])),Ce[w.Dark][1])),yt),It=h(vt||(vt=On(["\n  position: relative;\n  display: grid;\n  grid-template-areas: 'code panel';\n  grid-template-columns: auto 38px;\n  border-radius: inherit;\n  z-index: 0; // new stacking context\n"]))),_t=h(wt||(wt=On(["\n  // No panel, all code\n  grid-template-areas: 'code code';\n"]))),Rt=h(kt||(kt=On(["\n  grid-template-areas: 'panel' 'code';\n  grid-template-columns: unset;\n"]))),qt=h(xt||(xt=On(["\n  grid-area: code;\n  overflow-x: auto;\n  // Many applications have global styles that are adding a border and border radius to this element.\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 0;\n  // We apply left / right padding in Syntax to support line highlighting\n  padding-top: ","px;\n  padding-bottom: ","px;\n  margin: 0;\n  position: relative;\n  transition: box-shadow ","ms ease-in-out;\n\n  ","\n\n  &:focus-visible {\n    outline: none;\n    box-shadow: 0 0 0 2px "," inset;\n  }\n"])),I[2],I[2],W.faster,Mt({whiteSpace:["pre","pre-wrap","pre"]}),P.blue.light1),Wt=h(jt||(jt=On(["\n  border-left: 0;\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n"]))),zt=h(Nt||(Nt=On(["\n  border-left: 0;\n  border-radius: inherit;\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n"]))),Ft=h(Ct||(Ct=On(["\n  display: flex;\n  align-items: center;\n  padding-top: ","px;\n  padding-bottom: ","px;\n"])),6,6),Zt=h(Ot||(Ot=On(["\n  z-index: 2; // Above the shadows\n  grid-area: panel;\n"])));function Jt(n){var e=Ce[n];return h(Et||(Et=On(["\n    background-color: ",";\n    color: ",";\n  "])),e[0],e[3])}var Gt=h(St||(St=On(["\n  &:before,\n  &:after {\n    content: '';\n    display: block;\n    position: absolute;\n    z-index: 1; // above the code\n    top: 0;\n    height: 100%;\n    width: 40px;\n    border-radius: 40%;\n    box-shadow: unset;\n    transition: box-shadow ","ms ease-in-out;\n  }\n  &:before {\n    grid-column: 1;\n    left: -40px;\n  }\n  &:after {\n    grid-column: 2; // Placed either under Panel, or on the right edge\n  }\n"])),W.faster),Ht=h(Lt||(Lt=On(["\n  &:after {\n    grid-column: -1; // Placed on the right edge\n  }\n"]))),Kt=h(Pt||(Pt=On(["\n  &:before,\n  &:after {\n    grid-row: 2; // Placed on the top under the Picker Panel\n  }\n"])));function Ut(n,e){var t=e===w.Light?"1px 0 10px 0 ".concat(vn(.75,"black")):"15px 0px 15px 0 ".concat(vn(.7,"black")),r=e===w.Light?"-1px 0px 10px ".concat(vn(.75,"black")):"-15px 0px 15px 0 ".concat(vn(.7,"black"));return h(At||(At=On(["\n    &:before {\n      ",";\n    }\n    &:after {\n      ",";\n    }\n  "])),(n===Bt.Both||n===Bt.Left)&&h(Dt||(Dt=On(["\n        box-shadow: ",";\n      "])),t),(n===Bt.Both||n===Bt.Right)&&"\n        box-shadow: ".concat(r,";\n      "))}var Xt=["children","className","language","darkMode","showLineNumbers","lineNumberStart","showWindowChrome","chromeTitle","copyable","onCopy","highlightLines","languageOptions","onChange","customActionButtons","showCustomActionButtons","usePortal","portalClassName","portalContainer","scrollContainer","popoverZIndex"];function Yt(i){var o,c,h=i.children,u=void 0===h?"":h,d=i.className,p=i.language,y=i.darkMode,v=i.showLineNumbers,w=void 0!==v&&v,k=i.lineNumberStart,j=void 0===k?1:k,N=i.showWindowChrome,C=void 0!==N&&N,O=i.chromeTitle,E=void 0===O?"":O,S=i.copyable,L=void 0===S||S,P=i.onCopy,A=i.highlightLines,D=void 0===A?[]:A,B=i.languageOptions,M=i.onChange,T=i.customActionButtons,I=void 0===T?[]:T,_=i.showCustomActionButtons,R=void 0!==_&&_,q=i.usePortal,W=void 0===q||q,z=i.portalClassName,F=i.portalContainer,Z=i.scrollContainer,J=i.popoverZIndex,G=Cn(i,Xt),H=t(null),K=En(e(Bt.None),2),U=K[0],X=K[1],Y=En(e(!1),2),$=Y[0],Q=Y[1],V=l((function(){return u.trim().includes("\n")}),[u]),nn=b(y),en=nn.theme,tn=nn.darkMode,rn=I.filter((function(n){return!0===x(n,"IconButton")})),on=R&&!!rn.length,ln=null==B?void 0:B.find((function(n){return n.displayName===p})),an=!C&&(L||!!ln||on),gn=ln?ln.language:p,cn=!!ln;r((function(){Q(L&&a.isSupported())}),[L,C]),f((function(){var n=H.current;null!=n&&n.scrollWidth>n.clientWidth&&X(Bt.Right)}),[]);var hn=n.createElement(st,{showLineNumbers:w,lineNumberStart:j,language:gn,highlightLines:D},u);var sn=g((function(n){var e=n.target,t=e.scrollWidth,r=e.clientWidth;if(t>r){var i=n.target.scrollLeft,o=t-r;i>0&&i<o?X(Bt.Both):i>0?X(Bt.Left):i<o&&X(Bt.Right)}}),50,{leading:!0}),un=kn({popoverZIndex:J},W?{usePortal:W,portalClassName:z,portalContainer:F,scrollContainer:Z}:{usePortal:W});return n.createElement(m,{darkMode:tn},n.createElement("div",{className:Tt[en]},C&&n.createElement(ft,{chromeTitle:E}),n.createElement("div",{className:s(It,Gt,Ut(U,en),(o={},jn(o,Rt,cn),jn(o,Kt,cn),jn(o,_t,!an),jn(o,Ht,!an),o))},n.createElement("pre",Nn({},G,{className:s(qt,Jt(en),(c={},jn(c,zt,cn),jn(c,Wt,!an),jn(c,Ft,!V),c),d),onScroll:function(n){n.persist(),sn(n)},ref:H,tabIndex:U!==Bt.None?0:-1}),hn),an&&n.createElement(Ne,Nn({className:s(Zt),language:ln,languageOptions:B,onChange:M,contents:u,onCopy:P,showCopyButton:$,isMultiline:V,customActionButtons:rn,showCustomActionButtons:on},un)))))}Yt.displayName="Code",Yt.propTypes={children:c.string.isRequired,language:c.oneOfType([c.oneOf(Object.values(nt)),c.string]),darkMode:c.bool,className:c.string,showLineNumbers:c.bool,lineNumberStart:c.number,showWindowChrome:c.bool,chromeTitle:c.string,highlightLines:c.arrayOf(c.oneOfType([c.arrayOf(c.number),c.number]))};export{Yt as Code,nt as Language,Ve as Mode,Ne as Panel,Yt as default,Ce as variantColors};
//# sourceMappingURL=index.js.map
