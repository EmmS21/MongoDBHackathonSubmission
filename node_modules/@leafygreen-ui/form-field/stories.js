import e,{useContext as n,forwardRef as r}from"react";import t from"@leafygreen-ui/button";import{css as a,cx as o}from"@leafygreen-ui/emotion";import i,{glyphs as l}from"@leafygreen-ui/icon";import d from"@leafygreen-ui/icon-button";import s,{useDarkMode as c}from"@leafygreen-ui/leafygreen-provider";import{Size as p,spacing as g,typeScales as u,fontFamilies as b,fontWeights as f,transitionDuration as h,hoverRing as m,focusRing as y}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as x,Label as v,Description as k,Error as E}from"@leafygreen-ui/typography";import{useIdAllocator as w}from"@leafygreen-ui/hooks";import{createUniqueClassName as z,Theme as O}from"@leafygreen-ui/lib";import{palette as N}from"@leafygreen-ui/palette";function j(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function S(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?j(Object(r),!0).forEach((function(n){D(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function D(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},P.apply(this,arguments)}function F(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var I,M,C,X,V,_,T,W,H,A,B,G,q,J,K,Q,R,U,Y,Z,$,ee,ne,re,te,ae,oe,ie,le,de,se,ce,pe,ge,ue,be,fe,he,me,ye,xe,ve,ke,Ee,we,ze={None:"none",Error:"error",Valid:"valid"},Oe={disabled:!1,size:p.Default,state:ze.None},Ne=e.createContext(Oe),je=function(n){var r=n.value,t=n.children;return e.createElement(Ne.Provider,{value:r},t)},Se=function(){return n(Ne)},De=function(e){var n=e.baseFontSize,r=e.size;return r===p.XSmall||r===p.Small?a(I||(I=L(["\n      font-size: ","px;\n      line-height: ","px;\n    "])),u.body1.fontSize,u.body1.lineHeight):r===p.Default?a(M||(M=L(["\n      font-size: ","px;\n      line-height: ","px;\n    "])),n,u.body1.lineHeight):r===p.Large?a(C||(C=L(["\n      font-size: 18px;\n      line-height: 24px;\n    "]))):void 0},Pe=a(X||(X=L(["\n  display: flex;\n  flex-direction: column;\n"]))),Fe=a(V||(V=L(["\n  margin-bottom: ","px;\n"])),g[100]),Le=a(_||(_=L(["\n  margin-top: ","px;\n"])),g[100]),Ie=["label","description","state","id"],Me=["label","description","children","baseFontSize","state","size","disabled","errorMessage","className","darkMode","optional","id"],Ce=r((function(n,r){var t=n.label,a=n.description,i=n.children,l=n.baseFontSize,d=n.state,c=void 0===d?ze.None:d,g=n.size,u=void 0===g?p.Default:g,b=n.disabled,f=void 0!==b&&b,h=n.errorMessage,m=n.className,y=n.darkMode,z=n.optional,O=n.id,N=F(n,Me),j=x(l),L=function(e){var n=e.label,r=e.description,t=e.state,a=e.id,o=F(e,Ie),i=w({prefix:"lg-form-field-label"}),l=w({prefix:"lg-form-field-description"}),d=w({prefix:"lg-form-field-description"}),s=w({prefix:"lg-form-field-input"}),c=null!=a?a:s,p=n?i:o["aria-labelledby"],g=n?"":o["aria-label"];return{labelId:i,descriptionId:l,errorId:d,inputId:c,inputProps:{id:c,"aria-labelledby":p,"aria-describedby":"".concat(r?l:""," ").concat(t===ze.Error?d:"").trim(),"aria-label":g}}}(S({label:t,description:a,state:c,id:O},N)),I=L.labelId,M=L.descriptionId,C=L.errorId,X=L.inputId,V=L.inputProps;return e.createElement(s,{darkMode:y},e.createElement(je,{value:{disabled:f,size:u,state:c,inputProps:V,optional:z}},e.createElement("div",P({className:o(De({baseFontSize:j,size:u}),m),ref:r},N),e.createElement("div",{className:o(Pe,D({},Fe,!(!t&&!a)))},t&&e.createElement(v,{"data-testid":"lg-form_field-label",className:De({baseFontSize:j,size:u}),htmlFor:X,id:I,disabled:f},t),a&&e.createElement(k,{"data-testid":"lg-form_field-description",className:De({baseFontSize:j,size:u}),id:M,disabled:f},a)),i,c===ze.Error&&!f&&e.createElement("div",{className:Le},e.createElement(E,{"data-testid":"lg-form_field-error_message",className:De({baseFontSize:j,size:u}),id:C},h)))))}));Ce.displayName="FormField";var Xe,Ve=z("form-field-input"),_e=z("form-field-icon"),Te=function(e){return"0 0 0 100px ".concat(e," inset")},We=a(T||(T=L(["\n  display: flex;\n  align-items: center;\n  gap: ","px;\n  font-size: inherit;\n  line-height: inherit;\n  font-family: ",";\n  width: 100%;\n  height: 36px;\n  font-weight: ",";\n  border: 1px solid;\n  z-index: 1;\n  outline: none;\n  border-radius: 6px;\n  transition: ","ms ease-in-out;\n  transition-property: border-color, box-shadow;\n  z-index: 0;\n\n  & ."," {\n    font-family: ",";\n    color: inherit;\n    background-color: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    outline: none;\n    border: none;\n  }\n\n  & ."," svg,\n  & svg {\n    min-height: 16px;\n    min-width: 16px;\n  }\n"])),g[1],b.default,f.regular,h.default,Ve,b.default,_e),He=(D(A={},O.Light,a(W||(W=L(["\n    color: ",";\n    background: ",";\n    border: 1px solid ",";\n\n    &:hover,\n    &:active {\n      &:not([aria-disabled='true']):not(:focus) {\n        box-shadow: ",";\n      }\n    }\n\n    & ."," {\n      &:-webkit-autofill {\n        color: ",";\n        background: ",";\n        border: 1px solid ",";\n        -webkit-text-fill-color: ",";\n        box-shadow: ",";\n\n        &:not([aria-disabled='true']):focus {\n          box-shadow: ",",\n            ",";\n          border-color: ",";\n        }\n\n        &:not([aria-disabled='true']):hover:not(:focus) {\n          box-shadow: ",",\n            ",";\n        }\n      }\n\n      &::placeholder {\n        color: ",";\n        font-weight: ",";\n      }\n    }\n  "])),N.black,N.white,N.gray.base,m.light.gray,Ve,N.black,N.white,N.gray.base,N.black,Te(N.white),Te(N.white),y.light.input,N.white,Te(N.white),m.light.gray,N.gray.light1,f.regular)),D(A,O.Dark,a(H||(H=L(["\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n\n    &:hover,\n    &:active {\n      &:not([aria-disabled='true']):not(:focus) {\n        box-shadow: ",";\n      }\n    }\n\n    & ."," {\n      &:-webkit-autofill {\n        border: 1px solid ",";\n        color: ",";\n        background: ",";\n        -webkit-text-fill-color: ",";\n        box-shadow: ",";\n\n        &:not([aria-disabled='true']):focus {\n          box-shadow: ",",\n            ",";\n          border-color: ",";\n        }\n\n        &:not([aria-disabled='true']):hover:not(:focus) {\n          box-shadow: ",",\n            ",";\n        }\n      }\n\n      &::placeholder {\n        color: ",";\n        font-weight: ",";\n      }\n    }\n  "])),N.gray.light3,N.gray.dark4,N.gray.base,m.dark.gray,Ve,N.gray.base,N.gray.light3,N.gray.dark4,N.gray.light3,Te(N.gray.dark4),Te(N.gray.dark4),y.dark.input,N.blue.light1,Te(N.gray.dark4),m.dark.gray,N.gray.dark1,f.regular)),A),Ae=function(e){return a(B||(B=L(["\n  @supports selector(:has(a, b)) {\n    &:not([aria-disabled='true']):focus-within:not(\n        :has(.",":focus)\n      ) {\n      ","\n    }\n  }\n\n  /* Fallback for when \"has\" is unsupported */\n  @supports not selector(:has(a, b)) {\n    &:not([aria-disabled='true']):focus-within {\n      ","\n    }\n  }\n"])),_e,e,e)},Be=(D(G={},O.Light,Ae("\n     {\n      box-shadow: ".concat(y.light.input,";\n      border-color: ").concat(N.white,";\n    }\n  "))),D(G,O.Dark,Ae("\n     {\n      box-shadow: ".concat(y.dark.input,";\n      border-color: ").concat(N.gray.dark4,";\n    }\n  "))),G),Ge="&:has(button.".concat(_e,")"),qe=(D(R={},p.XSmall,a(q||(q=L(["\n    height: 22px;\n    padding-inline: 6px;\n\n    "," {\n      padding-inline-end: 4px;\n    }\n  "])),Ge)),D(R,p.Small,a(J||(J=L(["\n    height: 28px;\n    padding-inline: 6px;\n\n    "," {\n      padding-inline-end: 4px;\n    }\n  "])),Ge)),D(R,p.Default,a(K||(K=L(["\n    height: 36px;\n    padding-inline: 12px;\n\n    "," {\n      padding-inline-end: 6px;\n    }\n  "])),Ge)),D(R,p.Large,a(Q||(Q=L(["\n    height: 48px;\n    padding-inline: 16px;\n\n    "," {\n      padding-inline-end: 10px;\n    }\n  "])),Ge)),R),Je=(D(oe={},ze.Error,(D(Z={},O.Light,a(U||(U=L(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),N.red.base,m.light.red)),D(Z,O.Dark,a(Y||(Y=L(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),N.red.light1,m.dark.red)),Z)),D(oe,ze.None,(D(ne={},O.Light,a($||($=L([""])))),D(ne,O.Dark,a(ee||(ee=L([""])))),ne)),D(oe,ze.Valid,(D(ae={},O.Light,a(re||(re=L(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),N.green.dark1,m.light.green)),D(ae,O.Dark,a(te||(te=L(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),N.green.dark1,m.dark.green)),ae)),oe),Ke=(D(de={},O.Light,a(ie||(ie=L(["\n    cursor: not-allowed;\n    background-color: ",";\n    border-color: ",";\n\n    & input {\n      cursor: not-allowed;\n      pointer-events: none;\n      color: ",";\n\n      &::placeholder {\n        color: inherit;\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ",";\n          -webkit-text-fill-color: ",";\n          box-shadow: ",";\n        }\n      }\n    }\n  "])),N.gray.light2,N.gray.light1,N.gray.base,N.gray.base,N.gray.base,Te(N.gray.light2))),D(de,O.Dark,a(le||(le=L(["\n    cursor: not-allowed;\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n\n    & input {\n      cursor: not-allowed;\n      pointer-events: none;\n      color: ",";\n\n      &::placeholder {\n        color: inherit;\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ",";\n          -webkit-text-fill-color: ",";\n          box-shadow: ",";\n        }\n      }\n    }\n  "])),N.gray.dark2,N.gray.dark3,N.gray.dark2,N.gray.dark2,N.gray.dark1,N.gray.dark1,Te(N.gray.dark2))),de),Qe=a(se||(se=L(["\n  width: 100%;\n"]))),Re=a(ce||(ce=L(["\n  display: flex;\n  align-items: center;\n  gap: ","px;\n"])),g[1]),Ue=(D(ue={},O.Light,a(pe||(pe=L(["\n    color: ",";\n\n    &[aria-disabled='true'],\n    &:disabled {\n      color: ",";\n    }\n  "])),N.gray.base,N.gray.light1)),D(ue,O.Dark,a(ge||(ge=L(["\n    color: ",";\n\n    &[aria-disabled='true'],\n    &:disabled {\n      color: ",";\n    }\n  "])),N.gray.base,N.gray.dark2)),ue),Ye=(D(he={},O.Light,a(be||(be=L(["\n    color: ",";\n  "])),N.green.dark1)),D(he,O.Dark,a(fe||(fe=L(["\n    color: ",";\n  "])),N.green.base)),he),Ze=(D(xe={},O.Light,a(me||(me=L(["\n    color: ",";\n  "])),N.red.base)),D(xe,O.Dark,a(ye||(ye=L(["\n    color: ",";\n  "])),N.red.light1)),xe),$e=a(ve||(ve=L(["\n  font-size: 12px;\n  line-height: 12px;\n  font-style: italic;\n  font-weight: ",";\n  display: flex;\n  align-items: center;\n  > p {\n    margin: 0;\n  }\n"])),f.regular),en=(D(we={},O.Light,a(ke||(ke=L(["\n    color: ",";\n  "])),N.gray.dark1)),D(we,O.Dark,a(Ee||(Ee=L(["\n    color: ",";\n  "])),N.gray.base)),we),nn=["contentEnd","className","children"],rn=r((function(n,r){var t=n.contentEnd,a=n.className,l=n.children,d=F(n,nn),s=c().theme,g=Se(),u=g.disabled,b=g.size,f=g.state,h=g.inputProps,m=g.optional,y=e.cloneElement(l,S(S({},h),{},{className:o(Ve,l.props.className)})),x=f===ze.None&&!u&&m;return e.createElement("div",P({},d,{ref:r,"aria-disabled":u,className:o(We,He[s],qe[null!=b?b:p.Default],Je[f][s],Be[s],D({},Ke[s],u),a)}),e.createElement("div",{className:Qe},y),e.createElement("div",{className:Re},f===ze.Valid&&!u&&e.createElement(i,{role:"presentation",title:"Valid",glyph:"Checkmark",className:Ye[s]}),f===ze.Error&&!u&&e.createElement(i,{role:"presentation",title:"Error",glyph:"Warning",className:Ze[s]}),x&&e.createElement("div",{className:o($e,en[s])},e.createElement("p",null,"Optional")),t&&e.cloneElement(t,{className:o(_e,Ue[s],t.props.className),disabled:u})))}));rn.displayName="FormFieldInputWrapper";var tn=["label","description","state","size","disabled","glyph"],an=["label","description","state","size","disabled","glyph"],on=["glyph"],ln={title:"Components/FormField",component:Ce,parameters:{default:"LiveExample",generate:{storyNames:["LargeSize","DefaultSize","SmallSize","XSmallSize"],combineArgs:{darkMode:[!1,!0],optional:[!1,!0],description:[void 0,"Description"],contentEnd:[void 0,e.createElement(i,{glyph:"Cloud",key:""})],state:Object.values(ze),disabled:[!1,!0]},excludeCombinations:[{disabled:!0,state:ze.Error}],args:{children:e.createElement("input",{placeholder:"placeholder"})},decorator:function(n,r){return e.createElement(s,{darkMode:null==r?void 0:r.args.darkMode},e.createElement(n,null,e.createElement(rn,{contentEnd:null==r?void 0:r.args.contentEnd},null==r?void 0:r.args.children)))}}},args:{label:"Label",description:"Description",errorMessage:"This is a notification",size:p.Default,state:ze.None,glyph:"Beaker"},argTypes:{darkMode:{control:"boolean"},label:{control:"text"},description:{control:"text"},errorMessage:{control:"text"},size:{control:"select"},state:{control:"select",options:Object.values(ze)},glyph:{control:"select",options:Object.keys(l)}}},dn=function(n){var r=n.label,t=n.description,a=n.state,o=n.size,l=n.disabled,d=n.glyph,s=F(n,tn);return e.createElement(Ce,P({label:r,description:t,state:a,size:o,disabled:l},s),e.createElement(rn,{role:"combobox",tabIndex:-1,contentEnd:e.createElement(i,{glyph:d})},e.createElement("input",{placeholder:"placeholder"})))},sn=function(n){var r=n.label,t=n.description,a=n.state,o=n.size,l=n.disabled,s=n.glyph,c=F(n,an);return e.createElement(Ce,P({label:r,description:t,state:a,size:o,disabled:l},c),e.createElement(rn,{role:"combobox",tabIndex:-1,contentEnd:e.createElement(d,{"aria-label":"Icon"},e.createElement(i,{glyph:s}))},e.createElement("input",{placeholder:"placeholder"})))},cn=function(n){n.glyph;var r=F(n,on);return e.createElement(Ce,r,e.createElement(rn,{role:"combobox",tabIndex:-1,contentEnd:e.createElement("span",{className:a(Xe||(Xe=L(["\n            display: flex;\n            align-items: center;\n            gap: 0;\n          "])))},e.createElement(d,{"aria-label":"Icon"},e.createElement(i,{glyph:"XWithCircle"})),e.createElement(i,{glyph:"CaretDown"}))},e.createElement("input",{placeholder:"placeholder"})))},pn=function(n){var r=Se().inputProps;return e.createElement(t,{rightGlyph:e.createElement(i,P({glyph:n.glyph},r))},"Click Me")},gn=function(n){return e.createElement(Ce,n,e.createElement(pn,n))},un=function(){return e.createElement(e.Fragment,null)};un.parameters={generate:{args:{size:p.Large}}};var bn=function(){return e.createElement(e.Fragment,null)};bn.parameters={generate:{args:{size:p.Default}}};var fn=function(){return e.createElement(e.Fragment,null)};fn.parameters={generate:{args:{size:p.Small}}};var hn=function(){return e.createElement(e.Fragment,null)};hn.parameters={generate:{args:{size:p.XSmall}}};export{gn as Custom_ButtonInput,cn as Custom_TwoIcons,bn as DefaultSize,un as LargeSize,dn as LiveExample,fn as SmallSize,sn as WithIconButton,hn as XSmallSize,ln as default};
