import n,{useContext as e,forwardRef as r}from"react";import{css as t,cx as a}from"@leafygreen-ui/emotion";import o,{useDarkMode as i}from"@leafygreen-ui/leafygreen-provider";import{Size as l,spacing as d,typeScales as s,fontFamilies as c,fontWeights as b,transitionDuration as p,hoverRing as g,focusRing as u}from"@leafygreen-ui/tokens";import{useUpdatedBaseFontSize as f,Label as h,Description as m,Error as y}from"@leafygreen-ui/typography";import{useIdAllocator as x}from"@leafygreen-ui/hooks";import v from"@leafygreen-ui/icon";import{createUniqueClassName as k,Theme as w}from"@leafygreen-ui/lib";import{palette as O}from"@leafygreen-ui/palette";function E(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function z(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){N(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function N(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=typeof n||null===n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var t=r.call(n,e||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function j(){return j=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},j.apply(this,arguments)}function P(n,e){if(null==n)return{};var r,t,a=function(n,e){if(null==n)return{};var r,t,a={},o=Object.keys(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||(a[r]=n[r]);return a}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}function D(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var S,F,L,I,M,V,_,C,H,W,X,T,q,A,B,G,J,K,Q,R,U,Y,Z,$,nn,en,rn,tn,an,on,ln,dn,sn,cn,bn,pn,gn,un,fn,hn,mn,yn,xn,vn,kn,wn={None:"none",Error:"error",Valid:"valid"},On={disabled:!1,size:l.Default,state:wn.None},En=n.createContext(On),zn=function(e){var r=e.value,t=e.children;return n.createElement(En.Provider,{value:r},t)},Nn=function(){return e(En)},jn=function(n){var e=n.baseFontSize,r=n.size;return r===l.XSmall||r===l.Small?t(S||(S=D(["\n      font-size: ","px;\n      line-height: ","px;\n    "])),s.body1.fontSize,s.body1.lineHeight):r===l.Default?t(F||(F=D(["\n      font-size: ","px;\n      line-height: ","px;\n    "])),e,s.body1.lineHeight):r===l.Large?t(L||(L=D(["\n      font-size: 18px;\n      line-height: 24px;\n    "]))):void 0},Pn=t(I||(I=D(["\n  display: flex;\n  flex-direction: column;\n"]))),Dn=t(M||(M=D(["\n  margin-bottom: ","px;\n"])),d[100]),Sn=t(V||(V=D(["\n  margin-top: ","px;\n"])),d[100]),Fn=["label","description","state","id"],Ln=["label","description","children","baseFontSize","state","size","disabled","errorMessage","className","darkMode","optional","id"],In=r((function(e,r){var t=e.label,i=e.description,d=e.children,s=e.baseFontSize,c=e.state,b=void 0===c?wn.None:c,p=e.size,g=void 0===p?l.Default:p,u=e.disabled,v=void 0!==u&&u,k=e.errorMessage,w=e.className,O=e.darkMode,E=e.optional,D=e.id,S=P(e,Ln),F=f(s),L=function(n){var e=n.label,r=n.description,t=n.state,a=n.id,o=P(n,Fn),i=x({prefix:"lg-form-field-label"}),l=x({prefix:"lg-form-field-description"}),d=x({prefix:"lg-form-field-description"}),s=x({prefix:"lg-form-field-input"}),c=null!=a?a:s,b=e?i:o["aria-labelledby"],p=e?"":o["aria-label"];return{labelId:i,descriptionId:l,errorId:d,inputId:c,inputProps:{id:c,"aria-labelledby":b,"aria-describedby":"".concat(r?l:""," ").concat(t===wn.Error?d:"").trim(),"aria-label":p}}}(z({label:t,description:i,state:b,id:D},S)),I=L.labelId,M=L.descriptionId,V=L.errorId,_=L.inputId,C=L.inputProps;return n.createElement(o,{darkMode:O},n.createElement(zn,{value:{disabled:v,size:g,state:b,inputProps:C,optional:E}},n.createElement("div",j({className:a(jn({baseFontSize:F,size:g}),w),ref:r},S),n.createElement("div",{className:a(Pn,N({},Dn,!(!t&&!i)))},t&&n.createElement(h,{"data-testid":"lg-form_field-label",className:jn({baseFontSize:F,size:g}),htmlFor:_,id:I,disabled:v},t),i&&n.createElement(m,{"data-testid":"lg-form_field-description",className:jn({baseFontSize:F,size:g}),id:M,disabled:v},i)),d,b===wn.Error&&!v&&n.createElement("div",{className:Sn},n.createElement(y,{"data-testid":"lg-form_field-error_message",className:jn({baseFontSize:F,size:g}),id:V},k)))))}));In.displayName="FormField";var Mn=k("form-field-input"),Vn=k("form-field-icon"),_n=function(n){return"0 0 0 100px ".concat(n," inset")},Cn=t(_||(_=D(["\n  display: flex;\n  align-items: center;\n  gap: ","px;\n  font-size: inherit;\n  line-height: inherit;\n  font-family: ",";\n  width: 100%;\n  height: 36px;\n  font-weight: ",";\n  border: 1px solid;\n  z-index: 1;\n  outline: none;\n  border-radius: 6px;\n  transition: ","ms ease-in-out;\n  transition-property: border-color, box-shadow;\n  z-index: 0;\n\n  & ."," {\n    font-family: ",";\n    color: inherit;\n    background-color: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    outline: none;\n    border: none;\n  }\n\n  & ."," svg,\n  & svg {\n    min-height: 16px;\n    min-width: 16px;\n  }\n"])),d[1],c.default,b.regular,p.default,Mn,c.default,Vn),Hn=(N(W={},w.Light,t(C||(C=D(["\n    color: ",";\n    background: ",";\n    border: 1px solid ",";\n\n    &:hover,\n    &:active {\n      &:not([aria-disabled='true']):not(:focus) {\n        box-shadow: ",";\n      }\n    }\n\n    & ."," {\n      &:-webkit-autofill {\n        color: ",";\n        background: ",";\n        border: 1px solid ",";\n        -webkit-text-fill-color: ",";\n        box-shadow: ",";\n\n        &:not([aria-disabled='true']):focus {\n          box-shadow: ",",\n            ",";\n          border-color: ",";\n        }\n\n        &:not([aria-disabled='true']):hover:not(:focus) {\n          box-shadow: ",",\n            ",";\n        }\n      }\n\n      &::placeholder {\n        color: ",";\n        font-weight: ",";\n      }\n    }\n  "])),O.black,O.white,O.gray.base,g.light.gray,Mn,O.black,O.white,O.gray.base,O.black,_n(O.white),_n(O.white),u.light.input,O.white,_n(O.white),g.light.gray,O.gray.light1,b.regular)),N(W,w.Dark,t(H||(H=D(["\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n\n    &:hover,\n    &:active {\n      &:not([aria-disabled='true']):not(:focus) {\n        box-shadow: ",";\n      }\n    }\n\n    & ."," {\n      &:-webkit-autofill {\n        border: 1px solid ",";\n        color: ",";\n        background: ",";\n        -webkit-text-fill-color: ",";\n        box-shadow: ",";\n\n        &:not([aria-disabled='true']):focus {\n          box-shadow: ",",\n            ",";\n          border-color: ",";\n        }\n\n        &:not([aria-disabled='true']):hover:not(:focus) {\n          box-shadow: ",",\n            ",";\n        }\n      }\n\n      &::placeholder {\n        color: ",";\n        font-weight: ",";\n      }\n    }\n  "])),O.gray.light3,O.gray.dark4,O.gray.base,g.dark.gray,Mn,O.gray.base,O.gray.light3,O.gray.dark4,O.gray.light3,_n(O.gray.dark4),_n(O.gray.dark4),u.dark.input,O.blue.light1,_n(O.gray.dark4),g.dark.gray,O.gray.dark1,b.regular)),W),Wn=function(n){return t(X||(X=D(["\n  @supports selector(:has(a, b)) {\n    &:not([aria-disabled='true']):focus-within:not(\n        :has(.",":focus)\n      ) {\n      ","\n    }\n  }\n\n  /* Fallback for when \"has\" is unsupported */\n  @supports not selector(:has(a, b)) {\n    &:not([aria-disabled='true']):focus-within {\n      ","\n    }\n  }\n"])),Vn,n,n)},Xn=(N(T={},w.Light,Wn("\n     {\n      box-shadow: ".concat(u.light.input,";\n      border-color: ").concat(O.white,";\n    }\n  "))),N(T,w.Dark,Wn("\n     {\n      box-shadow: ".concat(u.dark.input,";\n      border-color: ").concat(O.gray.dark4,";\n    }\n  "))),T),Tn="&:has(button.".concat(Vn,")"),qn=(N(J={},l.XSmall,t(q||(q=D(["\n    height: 22px;\n    padding-inline: 6px;\n\n    "," {\n      padding-inline-end: 4px;\n    }\n  "])),Tn)),N(J,l.Small,t(A||(A=D(["\n    height: 28px;\n    padding-inline: 6px;\n\n    "," {\n      padding-inline-end: 4px;\n    }\n  "])),Tn)),N(J,l.Default,t(B||(B=D(["\n    height: 36px;\n    padding-inline: 12px;\n\n    "," {\n      padding-inline-end: 6px;\n    }\n  "])),Tn)),N(J,l.Large,t(G||(G=D(["\n    height: 48px;\n    padding-inline: 16px;\n\n    "," {\n      padding-inline-end: 10px;\n    }\n  "])),Tn)),J),An=(N(rn={},wn.Error,(N(R={},w.Light,t(K||(K=D(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),O.red.base,g.light.red)),N(R,w.Dark,t(Q||(Q=D(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),O.red.light1,g.dark.red)),R)),N(rn,wn.None,(N(Z={},w.Light,t(U||(U=D([""])))),N(Z,w.Dark,t(Y||(Y=D([""])))),Z)),N(rn,wn.Valid,(N(en={},w.Light,t($||($=D(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),O.green.dark1,g.light.green)),N(en,w.Dark,t(nn||(nn=D(["\n      &:not([aria-disabled='true']) {\n        border-color: ",";\n\n        &:hover,\n        &:active {\n          &:not([aria-disabled='true']):not(:focus) {\n            box-shadow: ",";\n          }\n        }\n      }\n    "])),O.green.dark1,g.dark.green)),en)),rn),Bn=(N(on={},w.Light,t(tn||(tn=D(["\n    cursor: not-allowed;\n    background-color: ",";\n    border-color: ",";\n\n    & input {\n      cursor: not-allowed;\n      pointer-events: none;\n      color: ",";\n\n      &::placeholder {\n        color: inherit;\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ",";\n          -webkit-text-fill-color: ",";\n          box-shadow: ",";\n        }\n      }\n    }\n  "])),O.gray.light2,O.gray.light1,O.gray.base,O.gray.base,O.gray.base,_n(O.gray.light2))),N(on,w.Dark,t(an||(an=D(["\n    cursor: not-allowed;\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n\n    & input {\n      cursor: not-allowed;\n      pointer-events: none;\n      color: ",";\n\n      &::placeholder {\n        color: inherit;\n      }\n\n      &:-webkit-autofill {\n        &,\n        &:hover,\n        &:focus {\n          appearance: none;\n          border: 1px solid ",";\n          -webkit-text-fill-color: ",";\n          box-shadow: ",";\n        }\n      }\n    }\n  "])),O.gray.dark2,O.gray.dark3,O.gray.dark2,O.gray.dark2,O.gray.dark1,O.gray.dark1,_n(O.gray.dark2))),on),Gn=t(ln||(ln=D(["\n  width: 100%;\n"]))),Jn=t(dn||(dn=D(["\n  display: flex;\n  align-items: center;\n  gap: ","px;\n"])),d[1]),Kn=(N(bn={},w.Light,t(sn||(sn=D(["\n    color: ",";\n\n    &[aria-disabled='true'],\n    &:disabled {\n      color: ",";\n    }\n  "])),O.gray.base,O.gray.light1)),N(bn,w.Dark,t(cn||(cn=D(["\n    color: ",";\n\n    &[aria-disabled='true'],\n    &:disabled {\n      color: ",";\n    }\n  "])),O.gray.base,O.gray.dark2)),bn),Qn=(N(un={},w.Light,t(pn||(pn=D(["\n    color: ",";\n  "])),O.green.dark1)),N(un,w.Dark,t(gn||(gn=D(["\n    color: ",";\n  "])),O.green.base)),un),Rn=(N(mn={},w.Light,t(fn||(fn=D(["\n    color: ",";\n  "])),O.red.base)),N(mn,w.Dark,t(hn||(hn=D(["\n    color: ",";\n  "])),O.red.light1)),mn),Un=t(yn||(yn=D(["\n  font-size: 12px;\n  line-height: 12px;\n  font-style: italic;\n  font-weight: ",";\n  display: flex;\n  align-items: center;\n  > p {\n    margin: 0;\n  }\n"])),b.regular),Yn=(N(kn={},w.Light,t(xn||(xn=D(["\n    color: ",";\n  "])),O.gray.dark1)),N(kn,w.Dark,t(vn||(vn=D(["\n    color: ",";\n  "])),O.gray.base)),kn),Zn=["contentEnd","className","children"],$n=r((function(e,r){var t=e.contentEnd,o=e.className,d=e.children,s=P(e,Zn),c=i().theme,b=Nn(),p=b.disabled,g=b.size,u=b.state,f=b.inputProps,h=b.optional,m=n.cloneElement(d,z(z({},f),{},{className:a(Mn,d.props.className)})),y=u===wn.None&&!p&&h;return n.createElement("div",j({},s,{ref:r,"aria-disabled":p,className:a(Cn,Hn[c],qn[null!=g?g:l.Default],An[u][c],Xn[c],N({},Bn[c],p),o)}),n.createElement("div",{className:Gn},m),n.createElement("div",{className:Jn},u===wn.Valid&&!p&&n.createElement(v,{role:"presentation",title:"Valid",glyph:"Checkmark",className:Qn[c]}),u===wn.Error&&!p&&n.createElement(v,{role:"presentation",title:"Error",glyph:"Warning",className:Rn[c]}),y&&n.createElement("div",{className:a(Un,Yn[c])},n.createElement("p",null,"Optional")),t&&n.cloneElement(t,{className:a(Vn,Kn[c],t.props.className),disabled:p})))}));$n.displayName="FormFieldInputWrapper";export{In as FormField,En as FormFieldContext,$n as FormFieldInputContainer,zn as FormFieldProvider,wn as FormFieldState,On as defaultFormFieldContext,Nn as useFormFieldContext};
//# sourceMappingURL=index.js.map
